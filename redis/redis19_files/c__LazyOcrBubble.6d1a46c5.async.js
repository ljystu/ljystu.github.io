(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{2911:function(e,t,r){"use strict";var n=r(1856);t.a=function(){return Object(n.getInterest)()}},2975:function(e,t,r){"use strict";r(103);var n=r(60),o=(r(279),r(136)),a=r(0),l=r.n(a),i=r(2),c=r.n(i),u=r(790),m=r.n(u),p=r(9),b=r.n(p),s=r(30),f="CornerBubble-module_cornerBubble_2kGnu",d="CornerBubble-module_cornerCount_O3YTX",y="CornerBubble-module_cornerCountLarge_3x8Br",v="CornerBubble-module_cornerCountHover_x2J7h",g="CornerBubble-module_cornerIcon_N8Ibc",_="CornerBubble-module_badge_SQuZN";function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var S=function(e){var t,r,a,i=e.count,c=e.style,u=e.onClick,p=e.iconName,E=e.iconSize,S=e.countPopoverContent,O=e.countPopoverClassName,C=e.renderBadge,w=e.tooltipText;return l.a.createElement(n.a,{title:w},l.a.createElement("div",{className:f,onClick:u,style:c},m()(i)&&i>0&&(r=!!S,a=l.a.createElement("div",{className:b()((t={},j(t,d,!0),j(t,v,r),j(t,y,i>99),t))},i>99?"99+":i),r?l.a.createElement(o.a,{placement:"topRight",trigger:"hover",overlayClassName:O,content:S},a):a),C&&l.a.createElement("div",{className:_},C()),l.a.createElement(s.b,{className:g,name:p,width:E||20})))};S.propTypes={iconName:c.a.string.isRequired,iconSize:c.a.number,count:c.a.number,style:c.a.object,onClick:c.a.func,countPopoverContent:c.a.element,countPopoverClassName:c.a.string,renderBadge:c.a.func,tooltipText:c.a.string};t.a=S},3402:function(e,t,r){"use strict";r.r(t);r(62);var n=r(21),o=r(0),a=r.n(o),l=r(2),i=r.n(l),c=r(570),u=r(9),m=r.n(u),p=r(324),b=r.n(p),s=r(30),f=r(2975),d=r(1148),y=r(220),v=r(51),g=r(2911),_=r(452),E={contentWrapper:"index-module_contentWrapper_JYMLK",tipWrapper:"index-module_tipWrapper_tAHYH",slideUp:"index-module_slideUp_s1QoL",headerBg:"index-module_headerBg_tnuLo",tipCont:"index-module_tipCont_rsmmN",btnWrapper:"index-module_btnWrapper_KNQzs"};function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,l,i=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(i.push(n.value),i.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h=function e(t){var r,l=t.doc,i=t.me,c=t.organization,u=t.group,p=window.appData.isYuque,j=Object(g.a)(),S=w(Object(o.useState)(!1),2),C=S[0],N=S[1],h=w(Object(o.useState)(!1),2),P=h[0],k=h[1],B=!!c&&(null==c?void 0:c.id),x=j.interests[_.INTEREST_CODE.open_ocr],T="User"===(null==u?void 0:u.type)&&u.id===i.id,W=null==c||null===(r=c.abilities)||void 0===r?void 0:r.destroy,z=function(){k(!1)};return Object(o.useEffect)((function(){var e=function(e){!e.target.closest(".ocr-bubble-tip")&&z()};return b()("⌘+f, ctrl+f",(function(){N(!0)})),document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[]),C&&p?"Doc"!==(null==l?void 0:l.type)||x?null:a.a.createElement("div",{className:m()(E.contentWrapper,"ocr-bubble-tip")},a.a.createElement(f.a,{iconName:e.icon,style:O({bottom:260},t.bubbleStyle),onClick:function(){k(!P)},tooltipText:__("识图搜索"),renderBadge:function(){return a.a.createElement(s.b,{className:E.memberIcon,name:B?"icon-paidspacelable":"icon-personalmemberlable",width:32})}}),P&&a.a.createElement("div",{className:E.tipWrapper},a.a.createElement("div",{className:E.headerBg}),a.a.createElement("div",{className:E.tipCont},B?a.a.createElement(a.a.Fragment,null,W?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,__("升级付费版可享受识图搜索等功能优先体验权")),a.a.createElement("div",{className:E.btnWrapper,onClick:z},a.a.createElement(y.a,{organization:c}))):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,__("联系管理员升级付费空间可享受识图搜索等功能优先体验")),a.a.createElement("div",{className:E.btnWrapper},a.a.createElement(n.a,{type:"primary",onClick:z},__("知道了"))))):a.a.createElement(a.a.Fragment,null,T?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,i.isPaid?__("升级会员可享受识图搜索等功能优先体验权"):__("开通会员可享受识图搜索等功能优先体验权")),a.a.createElement("div",{className:E.btnWrapper},a.a.createElement(d.d,{user:i,upgradePackageType:v.MEMBER_LEVEL.member_level_1,text:i.isPaid?__("升级会员"):__("开通会员"),onClick:z}))):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,__("联系知识库管理员升级为会员，可享受识图搜索等功能优先体验权")),a.a.createElement("div",{className:E.btnWrapper},a.a.createElement(n.a,{type:"primary",onClick:z},__("知道了")))))))):null};h.icon="icon-ocr",h.defaultProps={bubbleStyle:{}},h.propTypes={bubbleStyle:i.a.object,doc:i.a.object,group:i.a.object,me:i.a.object,organization:i.a.object};t.default=Object(c.d)((function(e){return{doc:e.doc,group:e.group,me:e.me,organization:e.organization}}))(h)}}]);