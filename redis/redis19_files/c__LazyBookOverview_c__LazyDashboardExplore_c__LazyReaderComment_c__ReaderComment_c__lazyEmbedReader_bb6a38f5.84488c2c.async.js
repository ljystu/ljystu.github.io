/*! For license information please see c__LazyBookOverview~c__LazyDashboardExplore~c__LazyReaderComment~c__ReaderComment~c__lazyEmbedReader~bb6a38f5.84488c2c.async.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[11,56],{2257:function(t,e,r){var n=r(233),o=r(855),i=Object.prototype.hasOwnProperty,a=o((function(t,e,r){i.call(t,r)?t[r].push(e):n(t,r,[e])}));t.exports=a},2745:function(t,e,r){"use strict";r.r(e),r.d(e,"isWebAppMiniApp",(function(){return k})),r.d(e,"isYuque",(function(){return P})),r.d(e,"isDesktopApp",(function(){return T})),r.d(e,"isYuqueMobileApp",(function(){return N})),r.d(e,"isDev",(function(){return A})),r.d(e,"isEN",(function(){return C})),r.d(e,"isWin",(function(){return I})),r.d(e,"myNotesConsts",(function(){return D})),r.d(e,"editorConsts",(function(){return R})),r.d(e,"getFilterBarConfig",(function(){return F})),r.d(e,"downloadFileHandler",(function(){return M})),r.d(e,"getLocale",(function(){return B})),r.d(e,"getNoteDetailLink",(function(){return G})),r.d(e,"getPreviewImage",(function(){return U})),r.d(e,"parseCardData",(function(){return V})),r.d(e,"getDefaultShortCutText",(function(){return W})),r.d(e,"combineNotes",(function(){return H})),r.d(e,"orderTag",(function(){return q})),r.d(e,"openDocLink",(function(){return z})),r.d(e,"getLocaleMonthName",(function(){return K})),r.d(e,"showImgBrowser",(function(){return J})),r.d(e,"hotKeys",(function(){return $})),r.d(e,"NOTE_TAG_WITH_HOTKEY_CLASS",(function(){return Q}));var n,o=r(29),i=r.n(o),a=r(289),c=r.n(a),u=r(1441),l=r(231),s=r.n(l),f=r(562);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var v=window,m=v.appData,g=v.navigator,b=v.location,w=m||{},E=w.env,_=w.me,x=void 0===_?{}:_,O=w.locale,S="note/pinned/show/".concat(x.id),L="note/order/".concat(x.id),j=["January","February","March","April","May","June","July","August","September","October","November","December"],k=window.appData.isAlipayWebApp||window.appData.isDingTalkMiniApp,P=m.isYuque,T=m.isDesktopApp,N=m.isYuqueMobileApp,A="local"===E,C="en-us"===O,I="win32"===g.platform.toLowerCase(),D={NOTE_ORDER_KEY:L,NOTE_PINNED_SHOW_KEY:S,NOTE_QUERY_STATUS_INTERVAL:6e4,NOTE_WS_RECONNECT_DEFUALT_INTERVAL:12e4,NOTE_ITEM_CONTENT_MIN_HEIGHT:214,NOTE_ALLOW_PAGEPATH_LIST:["/dashboard/notes","/desktop/notes"],NOTE_LIST_VIEW_MODES:{lite:"lite",full:"full"},COLLAPSE_BTN_CLASS:"note-item-collapse",SUBMIT_BTN_CLASS:"note-item-submit",NOTE_LIST_ITEM_CLASS:"note-list-item",NOTE_LIST_READ_TAG_ADD_CLASS:"note-list-item-read-tag-add"},R={NOTE_EDITOR_AUTO_SAVE_INTERVAL:3e4},F=function(){var t,e;return P?(y(t={},f.FILTER_TYPES.image,__("图片")),y(t,f.FILTER_TYPES.bookmark,__("书签")),y(t,f.FILTER_TYPES.attachment,__("附件")),y(t,f.FILTER_TYPES.wechatRobot,__("来自微信")),y(t,f.FILTER_TYPES.share,__("分享中")),t):(y(e={},f.FILTER_TYPES.image,__("图片")),y(e,f.FILTER_TYPES.bookmark,__("书签")),y(e,f.FILTER_TYPES.attachment,__("附件")),y(e,f.FILTER_TYPES.dingTalkRobot,__("来自钉钉")),y(e,f.FILTER_TYPES.share,__("分享中")),e)},M=function(t,e){var r=new URL(t);r.searchParams.append("yuque-desktop-download",""),e&&r.searchParams.append("filename",encodeURIComponent(e)),fetch(r.toString())},B=function(){return(new URLSearchParams(b.search).get("language")||"").startsWith("en")?"en":"zh-cn"},G=function(t){var e=t.slug,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.hostUrl,o=void 0===n?"".concat(b.protocol,"//").concat(b.host):n;return"".concat(o,"/r/note/").concat(e)},U=function(t,e){var r=e.size||80;try{var n=new URL(t);return n.search="",n.hash="",e.noResize?n.toString():(n.searchParams.append("x-oss-process","image/resize,m_fill,h_".concat(r,",w_").concat(r)),n.toString())}catch(e){return t}},Y=(y(n={},f.FILTER_TYPES.image,'card[name="image"]'),y(n,f.FILTER_TYPES.bookmark,'card[name="bookmarklink"]'),y(n,f.FILTER_TYPES.attachment,'card[name="file"],card[name="localdoc"]'),n),V=function(t,e){return[f.FILTER_TYPES.all,f.FILTER_TYPES.share,f.FILTER_TYPES.dingTalkRobot,f.FILTER_TYPES.wechatRobot].includes(e)?t:t.map((function(t){var r=t.content.source,n=Y[e];if(r){var o=(new DOMParser).parseFromString(r,"text/html").body.querySelectorAll(n),i=[];o.forEach((function(t){var e=t.getAttribute("value");if(e){var r=JSON.parse(decodeURIComponent(e).slice(5));i.push(h(h({},r),{},{uuid:s()(10)}))}})),t.cards=i.filter((function(t){return e===f.FILTER_TYPES.image||e===f.FILTER_TYPES.attachment?t.src:e===f.FILTER_TYPES.bookmark&&(t.detail||(t.detail={_serializer:"web.editor_link_detail"}),t.detail)}))}return t})).filter((function(t){return t.cards&&t.cards.length}))},W=function(){return __("按 {shortcut} 发送",{shortcut:I?"Ctrl + Enter":"⌘ Enter"})},H=function(t){var e="";return t.forEach((function(t){e+=(t||"").replace(/<!doctype\s+lake>/g,"").replace(/<meta[^>]{0,1024}?\/>/g,"")})),["<!doctype lake>",'<meta name="paragraphSpacing" content="relax" />',e].join("")},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!t)return[];var r=[],n=[];return t.forEach((function(t){e&&e.some((function(e){return(null==e?void 0:e.id)===t.id}))?n.push(h(h({},t),{},{selected:!0})):r.push(t)})),[].concat(r,n)},z=function(t,e){if(!T)return window.open(t);var r=new URL(b.href);r.searchParams.get("open_doc_in_desktop")||r.searchParams.get("open_in_desktop")?window.parent.postMessage({name:"openDocInDesktop",args:[t,e]},"*"):window.openExternalLink(t,!0)},K=function(t){if(i()(t).format("YYYY-MM")===i()().format("YYYY-MM"))return __("本月");var e=i()(t).format("YYYY"),r=i()(t).format("M");if(C){var n=j[parseInt(r,10)];if(n)return"".concat(n," year")}return"".concat(e," ").concat(__("年")," ").concat(r," ").concat(__("月"))},J=function(t,e){var r=t.filter((function(t){return t.src})).map((function(t){return new Promise((function(e){if(t.width||t.height)e(t);else{var r=document.querySelector("#note-image-item-".concat(t.uuid));if(r){var n=r.getAttribute("origin-width"),o=r.getAttribute("origin-height");if(n||o)e(h(h({},t),{},{width:n,height:o}));else{var i=U(t.src,{noResize:!0}),a=new Image;a.src=i,a.onload=function(){var n=a.width,o=a.height;r.setAttribute("origin-width",String(n)),r.setAttribute("origin-height",String(o)),e(h(h({},t),{},{width:n,height:o}))}}}}}))}));Promise.all(r).then((function(t){var r=t.map((function(t){return{src:t.src,msrc:t.src,w:t.width,h:t.height}}));u.a.previewImages(r,e)}))},$={openTag:{key:c.a.mac?"⌘+option+k":"ctrl+alt+k",title:c.a.mac?"⌥ ⌘ K":"Alt Ctrl K"}},Q="note-tag-with-hotkey"},2750:function(t,e,r){"use strict";var n=r(2800),o={};e.a=window.isDesktopOfflineApp?o:n.a},2754:function(t,e,r){function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,a=void 0,a=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===n(a)?a:String(a)),o)}var i,a}function i(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var a=r(2745).myNotesConsts,c=r(54),u=r(120),l=i((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)})),s=a.COLLAPSE_BTN_CLASS,f=a.SUBMIT_BTN_CLASS;function p(t){var e=document.querySelectorAll(".".concat(t));if(e&&e.length){var r=document.body.getBoundingClientRect().height;e.forEach((function(e){var n=e.getBoundingClientRect().top,o=e.closest(".note-list-item").querySelector(".right-tool-".concat(t));o&&(o.style.display=n-r>10?"flex":"none")}))}}l.scrollToTop=c((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=document.querySelector("#mynote-container .note-list-scroll"),r={top:0,left:0};t.silent||(r.behavior="smooth"),e.scrollTo(r)}),100),l.scrollToElem=c((function(t){var e=t.id,r=document.querySelector("#note-".concat(e));if(r){var n=r.offsetTop;document.querySelector("#mynote-container .note-list-scroll").scrollTo({top:n,left:0,behavior:"smooth"})}}),100),l.fixListContainerHeight=function(){var t=document.querySelector(".material-library-view"),e=document.querySelector(".note-list-container .note-list");if(t&&e){var r=t.getBoundingClientRect().height-82,n=document.querySelector(".note-tag-container");n&&(r-=n.getBoundingClientRect().height),e.style.height="".concat(r,"px")}},l.fixNoteViewer=c((function(t){var e=t.id,r=document.querySelector("#note-".concat(e)),n=document.querySelector("#mynote-container .note-list-scroll");if(r&&n&&r.offsetTop>=0&&r.offsetTop+10<n.scrollTop){var o=r.offsetTop;n.scrollTo({top:o,left:0,behavior:"smooth"})}}),100),l.checkSubmitBtnShow=function(){return p(f)},l.checkCollapseBtnShow=function(){return p(s)};var d=u((function(){l.checkSubmitBtnShow(),l.checkCollapseBtnShow()}),500);l.handleListScroll=function(){var t=document.querySelector("#mynote-container .note-list-scroll");t&&(t.removeEventListener("scroll",d),t.addEventListener("scroll",d))},t.exports=l},2756:function(t,e,r){"use strict";var n,o=SyntaxError,i=Function,a=TypeError,c=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var l=function(){throw new a},s=u?function(){try{return l}catch(t){try{return u(arguments,"callee").get}catch(t){return l}}}():l,f=r(2822)(),p=Object.getPrototypeOf||function(t){return t.__proto__},d={},h="undefined"==typeof Uint8Array?n:p(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":f?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":d,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":f?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&f?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&f?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":f?p(""[Symbol.iterator]()):n,"%Symbol%":f?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":s,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};try{null.error}catch(t){var v=p(p(t));y["%Error.prototype%"]=v}var m=function t(e){var r;if("%AsyncFunction%"===e)r=c("async function () {}");else if("%GeneratorFunction%"===e)r=c("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=c("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=p(o.prototype))}return y[e]=r,r},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(2757),w=r(2825),E=b.call(Function.call,Array.prototype.concat),_=b.call(Function.apply,Array.prototype.splice),x=b.call(Function.call,String.prototype.replace),O=b.call(Function.call,String.prototype.slice),S=b.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,j=/\\(\\)?/g,k=function(t){var e=O(t,0,1),r=O(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return x(t,L,(function(t,e,r,o){n[n.length]=r?x(o,j,"$1"):e||t})),n},P=function(t,e){var r,n=t;if(w(g,n)&&(n="%"+(r=g[n])[0]+"%"),w(y,n)){var i=y[n];if(i===d&&(i=m(n)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=k(t),n=r.length>0?r[0]:"",i=P("%"+n+"%",e),c=i.name,l=i.value,s=!1,f=i.alias;f&&(n=f[0],_(r,E([0,1],f)));for(var p=1,d=!0;p<r.length;p+=1){var h=r[p],v=O(h,0,1),m=O(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&d||(s=!0),w(y,c="%"+(n+="."+h)+"%"))l=y[c];else if(null!=l){if(!(h in l)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&p+1>=r.length){var g=u(l,h);l=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:l[h]}else d=w(l,h),l=l[h];d&&!s&&(y[c]=l)}}return l}},2757:function(t,e,r){"use strict";var n=r(2824);t.exports=Function.prototype.bind||n},2758:function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g,i="RFC1738",a="RFC3986";t.exports={default:a,formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:a}},2764:function(t,e,r){"use strict";t.exports={getSafeBlankLinkProps:function(t){return t?{target:"_blank",rel:"noopener noreferrer nofollow"}:{}},sanitizeUrl:function(t){return"string"!=typeof t||this._isURLProtocolValid(t)?t:""},_isURLProtocolValid:function(t){var e=t.toLowerCase();return!!["http:","https:","data:","dingtalk:"].some((function(t){return e.startsWith(t)}))||(!(!e.startsWith("./")&&!e.startsWith("/"))||-1===e.indexOf(":"))}}},2767:function(t,e,r){"use strict";r(103);var n=r(60),o=r(0),i=r.n(o),a=r(9),c=r.n(a),u=r(120),l=r.n(u),s=r(659),f=r(730),p="TagList-module_list_g-vtQ",d="TagList-module_item_bUgF8",h="TagList-module_active_EPfJt",y="TagList-module_delete_NtLM0",v="TagList-module_wrapper_wAu1a",m="TagList-module_hideMore_2Kx5n",g="TagList-module_expand_J-EtW",b="TagList-module_addTag_P9XTi",w="TagList-module_rightSide_65+zS",E="TagList-module_canSelect_XVnT1",_="TagList-module_name_-HZCJ",x="TagList-module_highLight_Fx+g3",O="TagList-module_count_JG6aO",S="TagList-module_expandBtn_kA52P",L="TagList-module_expanded_tVFvP",j="TagList-module_icon_zLTbc";function k(t){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(t)}function P(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==k(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===k(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.a=function(t){var e,r=t.data,a=t.onDelete,u=t.renderFirstItem,k=t.showCount,N=t.hideMore,A=t.storageKey,C=t.localStorage,I=t.currentTagId,D=t.onSelect,R=t.renderRightSide,F=t.query,M=r||[];F&&(M=M.filter((function(t){return null==t?void 0:t.name.includes(F)})));var B=!1;A&&C&&C.get(A)&&(B=!0);var G=T(Object(o.useState)(B),2),U=G[0],Y=G[1],V=T(Object(o.useState)(!1),2),W=V[0],H=V[1],q=Object(o.useRef)(null),z=function(){if(N&&q&&q.current){var t=q.current.children;if(!t||t.length<=2)H(!1);else{var e=t[1],r=t[t.length-1],n=e.getBoundingClientRect().top!==r.getBoundingClientRect().top;H(n)}}};return Object(o.useEffect)((function(){z()}),[r,F]),Object(o.useEffect)((function(){C&&A&&(U?C.set(A,"true"):C.remove(A))}),[U]),Object(o.useEffect)((function(){var t=l()(z,200);return N&&window.addEventListener("resize",t,!1),function(){window.removeEventListener("resize",t,!1)}}),[]),i.a.createElement("div",{"data-testid":"note-tag-list-wrapper",className:c()(v,(e={},P(e,g,U),P(e,m,N),e),"note-tag-list")},i.a.createElement("div",{className:p,ref:q},u&&i.a.createElement("div",{className:b},u()),R||W?i.a.createElement("div",{className:w},W&&i.a.createElement("div",{className:c()(S,"tag-list-expand",P({},L,U)),onClick:function(t){t.stopPropagation(),Y(!U)}},i.a.createElement(s.a,{className:j})),!F&&R&&R()):null,M.map((function(t){var e,r=null==t?void 0:t.name;if(!r)return null;var o=r.length>20,u=o?"".concat(r.slice(0,20),"..."):r,l=I===t.id;return i.a.createElement(n.a,{title:o?r:null},i.a.createElement("div",{"data-testid":"note-tag-list-item",className:c()(d,(e={},P(e,h,l),P(e,E,!!D),e)),key:null==t?void 0:t.name,onClick:function(){D&&D(t.id)}},function(t){if(!F)return i.a.createElement("span",{className:_},t);var e=t.indexOf(F);return e<0?i.a.createElement("span",{className:_},t):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:_},t.slice(0,e)),i.a.createElement("span",{className:c()(_,x)},F),i.a.createElement("span",{className:_},t.slice(e+F.length)))}(u),function(t){return k&&void 0!==t.count?i.a.createElement("span",{className:O},"(",t.count,")"):null}(t),a&&i.a.createElement("span",{"data-testid":"note-tag-list-delete",className:y,onClick:function(){return a(t)}},i.a.createElement(f.a,null))))}))))}},2769:function(t,e,r){"use strict";var n=r(2758),o=Object.prototype.hasOwnProperty,i=Array.isArray,a=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),c=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:c,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var o=e[n],a=o.obj[o.prop],c=Object.keys(a),u=0;u<c.length;++u){var l=c[u],s=a[l];"object"==typeof s&&null!==s&&-1===r.indexOf(s)&&(e.push({obj:a,prop:l}),r.push(s))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(i(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,o,i){if(0===t.length)return t;var c=t;if("symbol"==typeof t?c=Symbol.prototype.toString.call(t):"string"!=typeof t&&(c=String(t)),"iso-8859-1"===r)return escape(c).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var u="",l=0;l<c.length;++l){var s=c.charCodeAt(l);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i===n.RFC1738&&(40===s||41===s)?u+=c.charAt(l):s<128?u+=a[s]:s<2048?u+=a[192|s>>6]+a[128|63&s]:s<55296||s>=57344?u+=a[224|s>>12]+a[128|s>>6&63]+a[128|63&s]:(l+=1,s=65536+((1023&s)<<10|1023&c.charCodeAt(l)),u+=a[240|s>>18]+a[128|s>>12&63]+a[128|s>>6&63]+a[128|63&s])}return u},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(i(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!o.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var a=e;return i(e)&&!i(r)&&(a=c(e,n)),i(e)&&i(r)?(r.forEach((function(r,i){if(o.call(e,i)){var a=e[i];a&&"object"==typeof a&&r&&"object"==typeof r?e[i]=t(a,r,n):e.push(r)}else e[i]=r})),e):Object.keys(r).reduce((function(e,i){var a=r[i];return o.call(e,i)?e[i]=t(e[i],a,n):e[i]=a,e}),a)}}},2774:function(t,e,r){"use strict";var n=r(34),o=r.n(n);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function h(){}function y(){}function v(){}var m={};s(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=v.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,c,u){var l=p(t[n],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,l,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function l(t,e,r){return(e=f(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!==i(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===i(e)?e:String(e)}var p=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doc=e,this.engine=r,this.emitter=new o.a}var e,r,n,i,f;return e=t,r=[{key:"resetDoc",value:function(t){this.doc=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},t)}},{key:"init",value:function(t){t.content,t.onFocus}},{key:"initCollabDoc",value:function(t){}},{key:"setContent",value:function(t){}},{key:"appendContent",value:function(t){}},{key:"getValue",value:function(){return null}},{key:"getPureContent",value:function(){return null}},{key:"getSummaryContent",value:function(){return null}},{key:"getEditorContent",value:function(t){return{content:"",html:null,premium:null,premiumHtml:null}}},{key:"getThumbnail",value:function(){return""}},{key:"getDocMeta",value:function(t){return null}},{key:"updateDocEditorMeta",value:function(t){var e=this;["meta_draft","meta"].forEach((function(r){var n="editor_".concat(r);t[r]&&(e.doc[n]=t[r])}))}},{key:"getPremium",value:function(){return null}},{key:"getWordCount",value:function(t){return t&&t(-1),0}},{key:"getSummary",value:function(t){t({summary:null,cover:null})}},{key:"isEmpty",value:function(){return!1}},{key:"isFocus",value:function(){return!1}},{key:"hasUserChanged",value:function(){return!0}},{key:"resetUserChanged",value:function(){}},{key:"disable",value:function(){}},{key:"enable",value:function(){}},{key:"readonly",value:function(t){}},{key:"focus",value:function(t){}},{key:"focusToEnd",value:function(t){}},{key:"focusBlankDoc",value:function(){}},{key:"onBeforeSave",value:(i=a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})),f=function(){var t=this,e=arguments;return new Promise((function(r,n){var o=i.apply(t,e);function a(t){c(o,r,n,a,u,"next",t)}function u(t){c(o,r,n,a,u,"throw",t)}a(void 0)}))},function(){return f.apply(this,arguments)})},{key:"isContentReady",value:function(){return!0}},{key:"reset",value:function(t){}},{key:"getOriginEngine",value:function(){return this.engine}},{key:"getCollabMembers",value:function(t){return[]}},{key:"setCollabMembers",value:function(){}},{key:"addCollabMember",value:function(){}},{key:"removeCollabMember",value:function(){}},{key:"setCurrentMember",value:function(){}},{key:"onCommandError",value:function(t){}},{key:"onCommandEnd",value:function(t){}},{key:"getReportValue",value:function(){return null}}],r&&s(e.prototype,r),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=p},2775:function(t,e,r){var n=r(164).isPaidCheckAll;t.exports=function(){if(!(window.appData||{}).isYuque||n())return!1;var t,e=window.appData,r=e.organization,o=e.group,i=void 0===o?{}:o,a=e.me,c=void 0===a?{}:a;return r?!0!==(null==r||null===(t=r.abilities)||void 0===t?void 0:t.destroy):"Group"===(null==i?void 0:i.type)||((null==i?void 0:i.id)!==c.id&&window.appData.group,!1)}},2776:function(t,e,r){var n=r(164).isPaidCheckAll;t.exports=function(){return!(window.appData||{}).isYuque||!!n()}},2777:function(t,e,r){"use strict";var n=r(164).isPaidCheckAll;e.a=function(){if(!(window.appData||{}).isYuque)return!0;var t=window.appData,e=t.organization,r=t.group,o=void 0===r?{}:r;return!(!e||!n())||!e&&"Group"===(null==o?void 0:o.type)}},2778:function(t,e,r){"use strict";r.d(e,"a",(function(){return mt}));r(1081);var n=r(389),o=r(0),i=r.n(o),a=r(2),c=r.n(a),u=(r(63),r(23)),l=(r(251),r(116)),s=r(9),f=r.n(s),p=r(444),d=r.n(p),h=r(421),y=r(2810),v=r(2767),m=r(2798),g=r(2745),b="index-module_wrapper_F+6pY",w="index-module_liteWrapper_zRLdH",E=g.myNotesConsts.NOTE_LIST_VIEW_MODES;function _(t){var e=t.data,r=t.onRefreshData,n=t.currentTagId,o=t.onSelect,a=t.storage,c=t.query;return t.isLiteMode?i.a.createElement("div",{className:w},i.a.createElement(v.a,{hideMore:!1,showCount:!0,currentTagId:n,onSelect:o,localStorage:a,storageKey:"NOTE_LIST_TAG_MANAGER",data:e})):i.a.createElement("div",{className:b},i.a.createElement(v.a,{query:c,hideMore:!0,showCount:!0,currentTagId:n,onSelect:o,localStorage:a,storageKey:"NOTE_LIST_TAG_MANAGER",data:e,renderRightSide:function(){return i.a.createElement(m.a,{editable:!0,placement:"bottomRight",onDestroy:r,onUpdate:r,getPopupContainer:function(t){return t.parentNode}})}}))}_.defaultProps={viewMode:E.full},_.propTypes={data:c.a.array,storage:c.a.object,webProxy:c.a.object,onRefreshData:c.a.func,currentTagId:c.a.int,onSelect:c.a.func,viewMode:c.a.oneOf(Object.values(E)),query:c.a.string};var x=_,O=r(2811),S=r(651),L="sidebar-toolbar-module_wrapper_oE4lW",j="sidebar-toolbar-module_insertBtn_RY-1c",k=f()(L,"note-list-toolbar"),P=function(t){var e=t.item,r=t.onInsertToLakeEditor;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:k,"data-testid":"note-list-toolbar"},i.a.createElement("span",{className:j,onClick:function(){return r(e)}},i.a.createElement(S.a,{width:14,height:14}),__("插入文档"))))};P.defaultProps={onInsertToLakeEditor:function(){}},P.propTypes={item:c.a.object,onInsertToLakeEditor:c.a.func};var T=P,N=r(2754),A=r(2750),C=r(2808),I=r(2809);function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==D(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===D(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return G(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var U=function(){var t=B(Object(o.useState)(!1),2),e=t[0],r=t[1],n=B(Object(o.useState)(!0),2),i=n[0],a=n[1],c=Object(I.a)({}),l=c.state,s=l.listData,f=l.listLoading,p=l.hasMore,d=l.noteTags,h=l.noteFilterParams,y=l.pinnedListData,v=c.getListData,m=c.getNotes,b=c.getNoteTags,w=c.onChangeFilterParams,E=c.onReset,_=c.onRemoveNote,x=c.onRemoveNotes,O=Object(C.a)({listData:s,getNotes:m,isDesktopApp:g.isDesktopApp}).setLoadRef,S=Object(o.useCallback)((function(){h.search&&E()}),[h]),L=Object(o.useCallback)((function(t){t!==h.currentTagId?w({currentTagId:t}):w({currentTagId:null})}),[h]);return{state:{listData:s,pinnedListData:y,listLoading:f,orderBy:h.orderBy,hasMore:p,searchValue:h.search,searchActive:e,filterTab:h.filterTab,noteTags:d,currentTagId:h.currentTagId,noteStatus:h.status,toDocList:[],showPinned:i},getNotes:m,onLoadNote:function(t){var e=t.id,r=B(v(e),2),n=r[0],o=r[1],i=n.slice(),a=i.findIndex((function(t){return t.id===e}));return i[a].loading=!0,o(i),A.a.NoteCtlImpl.show({id:e,merge_dynamic_data:0}).then((function(t){var e=n.slice();e[a]=F(F({},t),{},{expanded_at:new Date}),o(e)})).catch((function(){var t=n.slice();i[a].loading=!1,o(t),u.a.error(__("获取内容失败，请再试一次"))}))},onCollapseNote:function(t){var e=t.id,r=B(v(e),2),n=r[0],o=r[1],i=n.slice(),a=i.findIndex((function(t){return t.id===e}));delete i[a].expanded_at,delete i[a].changed_at,delete i[a].loading,o(i)},onRemoveNote:_,onRemoveNotes:x,onSearchNote:function(t){w({search:t})},onSearchReset:S,setSearchActive:r,getNoteTags:b,onSelectTag:L,onChangeFilterParams:w,onReset:E,setLoadRef:O,setShowPinned:a}},Y="index-module_wrapper_kkqhF",V="index-module_tagContainer_TFFU4",W="index-module_show_oAR0z",H="index-module_tagContainerExpand_7mxch",q="index-module_tagTipBar_g7usD",z="index-module_icon_nCjEV",K="index-module_notesList_xu6a8";function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function $(){return $=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$.apply(this,arguments)}function Q(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==J(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===J(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tt=function(t){var e,r=U(t),n=t.storage,a=X(Object(o.useState)(!1),2),c=a[0],u=a[1],s=r.state,p=s.listLoading,v=s.noteTags,m=s.currentTagId,b=r.onSelectTag,w=r.getNoteTags,E=r.setSearchActive,_=r.onSearchReset,S=r.onSearchNote;Object(o.useEffect)((function(){Object(N.fixListContainerHeight)()}),[c]);var L=!d()(v);return i.a.createElement("div",{"data-testid":"mynote-list-container",id:"mynote-container",className:Y},i.a.createElement(O.a,{searchValue:r.state.searchValue,searchActive:r.state.searchActive,setSearchActive:E,onSearchReset:_,onSearchNote:S,activeMode:!0,isDesktopApp:g.isDesktopApp,isLiteMode:!0}),i.a.createElement("div",{className:f()(V,(e={},Q(e,H,c),Q(e,W,L),e),"note-tag-container")},i.a.createElement("div",{onClick:function(){return u(!c)},className:q},i.a.createElement("span",null,c?__("收起所有标签"):__("展开所有标签")),i.a.createElement(h.a,{className:z,width:16})),i.a.createElement(x,{onRefreshData:w,data:v,currentTagId:m,onSelect:function(t){return b(t)},isLiteMode:!0,storage:n})),i.a.createElement(l.a,{spinning:p},i.a.createElement("div",{className:f()(K,"note-list-container")},i.a.createElement(y.a,$({},r,{isMobile:!0,isLiteMode:!0,renderToolBar:function(e){return i.a.createElement(T,{item:e,showFeather:!r.state.searchValue,onInsertToLakeEditor:t.onInsertToLakeEditor})}})))))};tt.fetchData=function(t){return A.a.NoteCtlImpl.show({id:t.id})},tt.defaultProps={onInsertToLakeEditor:function(){}},tt.propTypes={webProxy:a.PropTypes.object,storage:a.PropTypes.object,onInsertToLakeEditor:a.PropTypes.func};var et=tt;function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ft(n.key),n)}}function it(t,e){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},it(t,e)}function at(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lt(t);if(e){var o=lt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ct(this,r)}}function ct(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ut(t)}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function st(t,e,r){return(e=ft(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ft(t){var e=function(t,e){if("object"!==rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===rt(e)?e:String(e)}var pt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&it(t,e)}(a,t);var e,r,n,o=at(a);function a(){var t;nt(this,a);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return st(ut(t=o.call.apply(o,[this].concat(r))),"onInsertToLakeEditor",(function(e){et.fetchData(e).then((function(e){t.props.onInsertDocument("text/lake",e.content.source)})).catch((function(){u.a.error(__("小记插入失败"))}))})),t}return e=a,(r=[{key:"render",value:function(){var t=this.props.storage;return i.a.createElement("div",{className:"material-library-note"},i.a.createElement(et,{storage:t,onInsertToLakeEditor:this.onInsertToLakeEditor}))}}])&&ot(e.prototype,r),n&&ot(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.Component);function dt(){return dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dt.apply(this,arguments)}pt.propTypes={storage:c.a.object,onInsertDocument:c.a.func};var ht=n.a.TabPane,yt="storage/sidebar-tab-key",vt="note";function mt(t){var e=function(t){var e=t.storage;return{tabKey:e.get(yt)||vt,onTabChange:function(t){e.set(yt,t)}}}(t),r=t.storage;return i.a.createElement("div",{className:"material-library-view"},i.a.createElement(n.a,{defaultActiveKey:e.tabKey,onChange:e.onTabChange},i.a.createElement(ht,{tab:__("插入小记"),key:vt},i.a.createElement(pt,dt({},t.note,{storage:r})))))}mt.propTypes={storage:c.a.object,webProxy:c.a.object,note:c.a.object}},2789:function(t,e,r){"use strict";var n,o=r(0),i=r.n(o),a=r(2819),c=r.n(a),u=r(2794),l=r.n(u),s=r(2775),f=r.n(s),p=r(2776),d=r.n(p),h=r(1395),y=r.n(h),v=r(2777),m=r(2746),g=r(873),b=r(2778),w=r(312),E=r(241),_=r(134),x=r(264),O=r(98),S=r(1574),L=r.n(S),j=r(2766),k=r(2774);function P(t){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P(t)}function T(){T=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==P(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function N(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){G(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function D(t,e){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},D(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=B(t);if(e){var o=B(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return F(this,r)}}function F(t,e){if(e&&("object"===P(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},B(t)}function G(t,e,r){return(e=U(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U(t){var e=function(t,e){if("object"!==P(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===P(e)?e:String(e)}var Y=(null===(n=window.appData)||void 0===n?void 0:n.me)||{};function V(t,e){return void 0===t?e:t}var W=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(a,t);var e,r,n,o=R(a);function a(t,e,r){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),G(M(n=o.call(this,t,e)),"setContent",(function(t){for(var e=t,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(t){if(t.startsWith("<")){var c;e={type:"lake",value:t},(c=n.engine).setDocument.apply(c,[e].concat(o))}else if("string"==typeof t){var u;e={type:"json",value:JSON.parse(t)},(u=n.engine).setDocument.apply(u,[e].concat(o))}}else n.engine.setDocument("lake",a.DEFAULT_CONTENT)})),G(M(n),"appendContent",(function(t){})),G(M(n),"getValue",(function(){return n.engine.getContent()})),G(M(n),"getPureContent",(function(){return n.getValue()})),G(M(n),"getSummaryContent",(function(){return n.engine.getSummaryContent()})),G(M(n),"hasUserChanged",(function(){})),G(M(n),"resetUserChange",(function(){})),G(M(n),"insertContent",(function(t){})),G(M(n),"getEditorContent",(function(t){t=t||{};var e,r,o,i,a=M(n).engine,c=t.fullHTML;return a.queryCommandValue("cardIsExist","premium")?(e=a.getPublicPureContent(),r=c?a.getFullPublicPureHtml():a.getPublicPureHtml(),o=a.getPureContent(),i=c?a.getFullPureHtml():a.getPureHtml()):(e=a.getPureContent(),r=c?a.getFullPureHtml():a.getPureHtml()),{content:e,html:r,premium:o,premiumHtml:i}})),G(M(n),"getDocMeta",(function(t){var e=(t=t||{}).themeMetas||[],r=M(n).doc,o=Object(E.getDocMeta)(n.engine.getPureContent());if(!o)return null;var i={},a=r.editor_meta_draft||r.editor_meta;return a&&(i=JSON.parse(a)),["viewport","typography","paragraphSpacing","defaultFontsize"].forEach((function(t){i[t]||e.includes(t)||delete o[t]})),o})),G(M(n),"getPremium",(function(){return n.engine.queryCommandValue("getPremium")})),G(M(n),"getWordCount",(function(t){var e=n.engine.wordCount();if(!t)return e;t(e)})),G(M(n),"getSummary",(function(t){var e=n.engine.getPureHtml();t({summary:l.a.extractSummary(e),cover:l.a.extractFirstImage(e)})})),G(M(n),"isEmpty",(function(){return n.engine.isEmpty()})),G(M(n),"onBeforeSave",(function(){var t=0;return new Promise((function e(r,o){n.engine.canGetDocument()?r():t>10?o():(t++,setTimeout((function(){e(r,o)}),1e3))}))})),G(M(n),"reset",(function(t){n.setContent(t)})),G(M(n),"readonly",(function(t){})),G(M(n),"focus",(function(t){})),G(M(n),"focusToEnd",(function(){n.engine.focus(!1)})),G(M(n),"isFocus",(function(){return n.engine.isFocus()})),n.emitter=r,n.lakex=!0,n.reportedStacks={},n}return e=a,r=[{key:"init",value:function(t){for(var e=this,r=t.content,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];this.setContent.apply(this,[r].concat(o)),setTimeout((function(){try{j.a.letEditorFocusToReadPosition(e.doc.id)}catch(t){console.log("focus to read pos fail",t)}}),200)}},{key:"initCollabDoc",value:function(t){this.emitter&&this.emitter.emit("docReady",t,this.currentMember)}},{key:"focusBlankDoc",value:function(t){L.a.isBlank({format:this.doc.format,value:t})&&this.doc.title===x.a.getDefaultTitle(this.doc.type)||this.engine.focus()}},{key:"setCurrentMember",value:function(t){this.currentMember=t}},{key:"removeCollabMember",value:function(t){this.emitter.emit("memberLeave",t)}},{key:"isContentReady",value:function(){return this.engine.canGetDocument()}},{key:"onCommandError",value:function(t){var e=this;this.engine.on("commandExecuteError",(function(r){var n,o=null==r||null===(n=r.error)||void 0===n?void 0:n.stack;e.reportedStacks[o]||(e.reportedStacks[o]=!0,t(r))}))}},{key:"onCommandEnd",value:function(t){this.engine.on("commandEnd",(function(e){var r=e.commandName,n=e.useTime;t(m.EDITOR_NAME.LAKEX,r,n)})),this.engine.on("cardCommandEnd",(function(e){var r=e.cardEditor,n=e.commandName,o=e.useTime;t(r,n,o)}))}},{key:"getReportValue",value:function(){return this.engine.getDocumentData()}}],n=[{key:"buildOptions",value:function(t){var e=a._buildBaseOptions(t);return a._repairDesktopOptions(e,t),a._repairMobileOptions(e,t),a._repairAppOptions(e,t),e}},{key:"getDataTableOptions",value:function(){return{image:{uploadConfig:x.a.imageUploadUrl,accept:Object(g.getImageAccept)()},file:{uploadConfig:x.a.fileUploadUrl,accept:Object(g.getFileAccept)()}}}},{key:"_buildBaseOptions",value:function(t){var e,r,n,o,u,l,s,p,h,m,E,_,x,S,L,j,k,P,T,N,A,I,D,R,F=t.apiHost,M=void 0===F?"":F,B=t.target_id,G=t.target_type,U=void 0===G?"Doc":G,W=t.attachable_type,H=t.attachable_id,q="".concat(M,"/api"),z={attachable_type:W||U,attachable_id:H||B},K={target_id:B,target_type:U},J={layout:t.layout,typography:t.typography,supportTranslate:d()(),supportImgOCR:y()(),hideEmbedButton:f()(),hideVipIcon:Object(v.a)(),image:{uploadFileURL:(null===(e=t.image)||void 0===e?void 0:e.uploadFileURL)||"".concat(q,"/upload/attach?").concat(c.a.stringify(C(C({},z),{},{type:"image"}))),onBeforeRenderImage:null===(r=t.image)||void 0===r?void 0:r.onBeforeRenderImage,accept:Object(g.getImageAcceptArr)()},file:C(C({uploadFileURL:(null===(n=t.file)||void 0===n?void 0:n.uploadFileURL)||"".concat(q,"/upload/attach?").concat(c.a.stringify(C(C({},z),{},{type:"attachment"}))),quickUploadUrl:"".concat(q,"/upload/upload_by_digset?").concat(c.a.stringify(C(C({},z),{},{type:"attachment"}))),endpointAfterUpload:(null===(o=t.file)||void 0===o?void 0:o.endpointAfterUpload)||"".concat(q,"/attachment/after_upload?").concat(c.a.stringify(C({},z)))},z),{},{useMultipart:V(null===(u=t.file)||void 0===u?void 0:u.useMultipart,!0),accept:Object(g.getFileAcceptArr)(),localdocAccept:Object(g.getLocalDocAcceptArr)(),embedButtonStatus:Object(g.getIsDiabledPreviewAndEmbed)()}),localdoc:{uploadFileURL:(null===(l=t.localdoc)||void 0===l?void 0:l.uploadFileURL)||"".concat(q,"/upload/attach?").concat(c.a.stringify(C(C({},z),{},{type:"attachment"}))),accept:Object(g.getLocalDocAcceptArr)()},audio:{uploadFileURL:(null===(s=t.audio)||void 0===s?void 0:s.uploadFileURL)||"".concat(q,"/video?").concat(c.a.stringify(C(C({},z),{},{type:"audio"}))),queryURL:"".concat(q,"/video?").concat(c.a.stringify(C(C({},z),{},{type:"audio"}))),allowAudioPlayer:V(null===(p=t.audio)||void 0===p?void 0:p.allowAudioPlayer,!0),addsOnParams:C(C({},z),{},{format:"audio"}),accept:Object(g.getAudioAcceptArr)()},video:C(C({uploadAction:(null===(h=t.video)||void 0===h?void 0:h.uploadAction)||"".concat(q,"/video?").concat(c.a.stringify(C(C({},z),{},{type:"video"}))),queryAction:"".concat(q,"/video?").concat(c.a.stringify(C(C({},z),{},{type:"video"}))),endpointAfterUpload:(null===(m=t.video)||void 0===m?void 0:m.endpointAfterUpload)||"".concat(q,"/video/after_upload?").concat(c.a.stringify(C({},z)))},z),{},{useMultipart:V(null===(E=t.video)||void 0===E?void 0:E.useMultipart,!0),accept:Object(g.getVideoAcceptArr)()}),mention:{mentionURL:(null===(_=t.mention)||void 0===_?void 0:_.mentionURL)||"".concat(q,"/users/complete?").concat(c.a.stringify(C(C({},K),{},{group_id:null===(x=t.group)||void 0===x?void 0:x.id}))),defaultList:null===(S=t.mention)||void 0===S?void 0:S.defaultList,multiTypes:null===(L=t.mention)||void 0===L?void 0:L.multiTypes,onMentionSearch:null===(j=t.mention)||void 0===j?void 0:j.onMentionSearch},lockedtext:{action:(null===(k=t.lockedtext)||void 0===k?void 0:k.action)||"".concat(q,"/services/crypto")},materialLibrary:{component:(null===(P=t.materialLibrary)||void 0===P?void 0:P.component)||i.a.createElement(b.a,{storage:null===(T=t.materialLibrary)||void 0===T?void 0:T.storage,webProxy:null===(N=t.materialLibrary)||void 0===N?void 0:N.webProxy})},vote:{isOwner:"OWNER"===t.role,queryDetailUrl:(null===(A=t.vote)||void 0===A?void 0:A.queryDetailUrl)||"".concat(q,"/votes"),queryCheckUrl:(null===(I=t.vote)||void 0===I?void 0:I.queryCheckUrl)||"".concat(q,"/votes/mine"),voteUrl:(null===(D=t.vote)||void 0===D?void 0:D.voteUrl)||"".concat(q,"/votes"),allowVote:V(null===(R=t.vote)||void 0===R?void 0:R.allowVote,!0)},transfer:{transferFilesURL:"".concat(q,"/upload/copy?").concat(c.a.stringify(C(C({},z),{},{type:"attachment"})))},markdownPasteParse:{convertURL:"".concat(q,"/docs/convert")},yuque:{linkDetailAction:"".concat(q,"/editor/link_detail"),recentAction:"".concat(q,"/editor/recent"),searchAction:"".concat(q,"/editor/search")},header:t.header||[],disabledPlugins:t.disabledPlugins||[],placeholder:t.placeholder,tileRendering:!!t.tileRendering,isDesktop:t.isDesktop,list:t.list,dynamicData:C({docId:B,docType:U,webProxy:{datasheetRecord:w.a.datasheetRecord}},t.dynamicData),bookmark:{detailAction:"".concat(q,"/editor/link_detail")},dataTable:C(C({},t.dataTable),a.getDataTableOptions()),selectAll:{global:t.globalSelectAll}};return t.board={boardWebProxyParams:{webProxy:w.a,userId:null==Y?void 0:Y.id,spm:O,appData:window.appData}},t.collab?(J.disabledPlugins.push("history"),J.collaboration={collab:t.collab}):J.disabledPlugins.push("collaboration"),t.premium&&(J.premium=t.premium),t.isPremiumBook||J.disabledPlugins.push("premium"),t.toc&&(J.toc=t.toc),t.board&&(J.board=t.board),J}},{key:"_repairMobileOptions",value:function(t,e){e.isMobile&&(t.video.useMultipart=!1,t.file.useMultipart=!1)}},{key:"_repairAppOptions",value:function(t,e){if(e.isApp){var r,n,o=(null===(r=window.nebulaMobileApp)||void 0===r||null===(n=r.envInfo)||void 0===n?void 0:n.origin)||window.location.origin;t.file.origin=o,t.file.downloadFileHandler=function(){var t,e=(t=T().mark((function t(e,r){return T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.downloadFile({url:e,fileName:r});case 2:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){N(i,n,o,a,c,"next",t)}function c(t){N(i,n,o,a,c,"throw",t)}a(void 0)}))});return function(t,r){return e.apply(this,arguments)}}(),t.file.previewFileHandler=function(t){_.a.pushWebWindow({url:"".concat(o).concat(t)})}}}},{key:"_repairDesktopOptions",value:function(t,e){var r,n,o,i;e.isDesktop&&(t.video.downloadVideoHandler=null===(r=e.video)||void 0===r?void 0:r.downloadVideoHandler,t.video.useMultipart=!1,t.file.useMultipart=!1,t.file.downloadFileHandler=null===(n=e.file)||void 0===n?void 0:n.downloadFileHandler,t.file.previewFileHandler=null===(o=e.file)||void 0===o?void 0:o.previewFileHandler,t.file.origin=(null===(i=e.localdoc)||void 0===i?void 0:i.origin)||e.apiHost,(t.yuque||e.yuque)&&(t.yuque=C(C({},e.yuque||{}),t.yuque||{})),(t.link||e.link)&&(t.link=C(C({},e.link||{}),t.link||{})),e.envAdapter&&(t.envAdapter=e.envAdapter))}}],r&&I(e.prototype,r),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(k.a);G(W,"DEFAULT_CONTENT",'<!doctype lake><meta name="doc-version" content="1" /><meta name="typography" content="classic" /><meta name="paragraphSpacing" content="relax" /><p><br></p>'),e.a=W},2794:function(t,e,r){t.exports=r(1574)},2796:function(t,e,r){"use strict";var n=r(0),o=r.n(n),i=r(2),a=r.n(i),c=r(182),u=r(2789),l=r(2799),s=r(84),f=r.n(s);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(){d=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function h(){}function y(){}function v(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=v.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==p(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),u(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function h(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){h(i,n,o,a,c,"next",t)}function c(t){h(i,n,o,a,c,"throw",t)}a(void 0)}))}}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(o=n.key,i=void 0,i=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===p(i)?i:String(i)),n)}var o,i}function g(t,e,r){return e&&m(t.prototype,e),r&&m(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=x(t);if(e){var o=x(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _(this,r)}}function _(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var O=function(t){b(i,t);var e,r,n=E(i);function i(t){var e;return v(this,i),(e=n.call(this,t)).viewerRef=o.a.createRef(),e}return g(i,[{key:"componentDidMount",value:function(){this.renderView()}},{key:"renderView",value:(r=y(d().mark((function t(){return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.createDocViewer();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),c.a.logViewerError(t.t0);case 8:case"end":return t.stop()}}),t,this,[[0,5]])}))),function(){return r.apply(this,arguments)})},{key:"createDocViewer",value:(e=y(d().mark((function t(){var e,r,n,o,i=this;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.time("LakexNoteViewer"),t.next=3,l.a.getLakexEditor();case 3:e=t.sent,r=e.createDocViewer,n=e.ViewerEnvAdapter,(o=r(this.viewerRef.current,this.buildOptions(n))).on("ready",(function(){console.timeEnd("LakexNoteViewer"),i.props.onReady&&i.props.onReady(i.viewerRef.current)})),o.on("dynamicDataChange",(function(t){i.props.onDynamicDataChange&&i.props.onDynamicDataChange(t)})),o.setDocument({type:"lake",value:this.props.content},{dynamicData:this.props.dynamicData});case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"buildOptions",value:function(t){var e=this,r=this.props,n=r.docId,o=u.a.buildOptions({isDesktop:window.appData.isDesktopApp,target_id:n,target_type:"Note",layout:f.a.VIEWPORT.adapt,typography:f.a.TYPOGRAPHY.traditional,file:{downloadFileHandler:r.downloadFileHandler,previewFileHandler:function(t){window.appData.isDesktopApp&&window.openExternalLink?window.openExternalLink(t,!0):window.open(t)}},list:{enableDynamic:r.enableDynamicTaskList}});return window.appData.isDesktopApp&&(o.envAdapter=new(function(t){b(r,t);var e=E(r);function r(){return v(this,r),e.apply(this,arguments)}return g(r,[{key:"openLink",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.openExternalLink(t,!0)}},{key:"openMentionLink",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.openExternalLink(t,!0)}}]),r}(t||function(){return g((function t(){v(this,t)}))}()))),o.scrollNode=function(){var t;return null===(t=e.viewerRef)||void 0===t?void 0:t.current},o}},{key:"render",value:function(){return o.a.createElement("div",{className:"yuque-doc-content","data-df":"lake",style:{position:"relative"}},o.a.createElement("div",{ref:this.viewerRef}))}}]),i}(n.PureComponent);O.defaultProps={enableDynamicTaskList:!1},O.propTypes={id:a.a.oneOfType([a.a.string,a.a.number]),content:a.a.string,onReady:a.a.func,onDynamicDataChange:a.a.func,downloadFileHandler:a.a.func,dynamicData:a.a.array,enableDynamicTaskList:a.a.bool},e.a=O},2798:function(t,e,r){"use strict";r(279);var n=r(136),o=(r(92),r(45)),i=(r(166),r(31)),a=(r(280),r(102)),c=(r(103),r(60)),u=r(0),l=r.n(u),s=r(9),f=r.n(s),p=r(120),d=r.n(p),h=r(490),y=r(654),v=r(733),m=r(736),g=r(657),b=r(725),w=r(643),E=r(2818),_=r(2750),x=r(2807),O=r(2745),S={wrapper:"index-module_wrapper_G9Pb4",suggestData:"index-module_suggestData_TbNfo",list:"index-module_list_3rmzk",item:"index-module_item_iAijR",active:"index-module_active_T1tcU",inputContainer:"index-module_inputContainer_dSRaF",errMsg:"index-module_errMsg_PZrDl",input:"index-module_input_VxMd4",checkIcon:"index-module_checkIcon_11oI3",clear:"index-module_clear_SqOQz",showInDesktop:"index-module_showInDesktop_48nrB",noEdit:"index-module_noEdit_vXAJE",title:"index-module_title_h11O8",hotKey:"index-module_hotKey_rfVY3",tip:"index-module_tip_7Ep0A",editable:"index-module_editable_u3qnq",operateBtn:"index-module_operateBtn_5pSgv",isPinned:"index-module_isPinned_QVOHl",pinBtn:"index-module_pinBtn_2G7-U",fixPadding:"index-module_fixPadding_KejFP",create:"index-module_create_Jh1Jj",icon:"index-module_icon_cuUI7",default:"index-module_default_yHB4l",isEditing:"index-module_isEditing_IKoiM",editTag:"index-module_editTag_A7aPy",name:"index-module_name_uc62J",selectedIcon:"index-module_selectedIcon_MDFvH",operate:"index-module_operate_oDCJc",pinnedIcon:"index-module_pinnedIcon_2vdD7",modalWrapper:"index-module_modalWrapper_sjH53",modalBody:"index-module_modalBody_m7SvC"};function L(t){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(t)}function j(){j=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==L(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function k(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function P(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){k(i,n,o,a,c,"next",t)}function c(t){k(i,n,o,a,c,"throw",t)}a(void 0)}))}}function T(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return N(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?A(Object(r),!0).forEach((function(e){I(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function I(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==L(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==L(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===L(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var D=13,R=38,F=40,M="note-tag-menu-item";function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r={};return e&&e.tagList&&(r=e.tagList.reduce((function(t,e){return e.id?C(C({},t),{},I({},e.id,e.count)):t}),{})),t.sort((function(t,e){var n=r[t.id]||0,o=r[e.id]||0;return t.pinned_at&&!e.pinned_at?-1:!t.pinned_at&&e.pinned_at?1:t.pinned_at&&e.pinned_at?new Date(e.pinned_at).getTime()-new Date(t.pinned_at).getTime():n||o?o-n:new Date(e.created_at).getTime()-new Date(t.created_at).getTime()}))}function G(t){var e=t.onSelect,r=t.onDestroy,n=t.onCreate,o=t.hideAfterCreate,i=t.currentData,a=T(Object(u.useState)(-1),2),c=a[0],l=a[1],s=T(Object(u.useState)(null),2),f=s[0],p=s[1],d=T(Object(u.useState)([]),2),h=d[0],y=d[1],v=T(Object(u.useState)([]),2),m=v[0],g=v[1],b=T(Object(u.useState)(""),2),w=b[0],E=b[1],O=T(Object(u.useState)(""),2),S=O[0],L=O[1],k=T(Object(u.useState)(!1),2),N=k[0],A=k[1],I=Object(u.useContext)(x.a);function R(t){if(t){var e=[],r=[];t.forEach((function(t){i&&i.some((function(e){return(null==e?void 0:e.id)===t.id}))?r.push(C(C({},t),{},{selected:!0})):e.push(t)}));var n=[].concat(e,r);g(n)}}var F=function(){var t=P(j().mark((function t(){var e;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.TagCtlImpl.index(void 0);case 2:e=t.sent,y(B(e.data,I)),R(e.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=P(j().mark((function t(r){var i,a;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=2;break}return t.abrupt("return",{success:!1});case 2:if(i=h.find((function(t){return t.name===r.trim()})),!i){t.next=15;break}if(!e){t.next=14;break}return t.prev=5,t.next=8,e(i);case 8:return t.abrupt("return",{success:!0});case 11:return t.prev=11,t.t0=t.catch(5),t.abrupt("return",{success:!1});case 14:return t.abrupt("return",{success:!1,message:__("标签已存在")});case 15:return t.next=17,_.a.TagCtlImpl.create({name:r});case 17:return(a=t.sent)&&(o||(E(""),F()),e&&e(a),null==n||n()),t.abrupt("return",{success:!0});case 20:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=P(j().mark((function t(e){var n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.TagCtlImpl.del({id:e.id});case 2:t.sent.success&&(n=h.filter((function(t){return t.id!==e.id})),y(n),null==r||r());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=P(j().mark((function t(e){var r,n,o;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&f){t.next=2;break}return t.abrupt("return",{success:!1,message:__("标签不能为空")});case 2:if(r=h.find((function(t){return t.name===e.trim()})),!r){t.next=8;break}if(r.id!==f.id){t.next=7;break}return p(null),t.abrupt("return",{success:!0});case 7:return t.abrupt("return",{success:!1,message:__("标签已存在")});case 8:return n=f.id,t.next=11,_.a.TagCtlImpl.update({id:n,name:e});case 11:return o=h.map((function(t){return t.id===f.id?C(C({},t),{},{name:e}):t})),y(o),p(null),t.abrupt("return",{success:!0});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Y=function(){var t=P(j().mark((function t(e){return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e.keyCode||e.which)===D&&(e.preventDefault(),e.stopPropagation(),U(e.target.value));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function V(){return V=P(j().mark((function t(e){var r,n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_.a.TagCtlImpl.pin({id:e.id});case 2:(r=t.sent)&&(n=h.map((function(t){return t.id===r.id?r:t})),y(B(n,I)));case 4:case"end":return t.stop()}}),t)}))),V.apply(this,arguments)}return Object(u.useEffect)((function(){F()}),[]),Object(u.useEffect)((function(){w?R(h?h.filter((function(t){return t.name.includes(w)})):[]):R(h)}),[h,w]),{state:{tagList:h,suggestData:m,inputValue:w,currentEdit:f,currentEditValue:S,visible:N,currentActiveIndex:c},getData:F,changeValue:function(t){E(t)},onCreateTag:M,setCurrentEditOne:function(t){p(t),L(t?t.name:"")},setCurrentEditValue:L,onDestroyTag:G,handleKeydown:Y,onUpdateTag:U,setVisible:A,pinTag:function(t){return V.apply(this,arguments)},setCurrentActiveIndex:l}}function U(t){var e=t.onConfirm,r=t.onChange,n=t.value,o=t.autoFocus,i=t.showCreate,a=void 0===i||i,c=t.onFocus,s=t.visible,p=t.onBlur,y=t.confirmOnBlur,v=t.onPressKeyDown,m=T(Object(u.useState)(""),2),g=m[0],b=m[1],w=Object(u.useRef)(null);Object(u.useEffect)((function(){o&&s&&setTimeout((function(){w.current&&(w.current.focus(),w.current.select())}),100)}),[s,w]);var _=Object(u.useMemo)((function(){return d()(function(){var t=P(j().mark((function t(r){var n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(r&&r.trim()){t.next=5;break}return b(__("请输入标签")),t.abrupt("return");case 5:return t.next=7,e(r);case 7:!0!==(n=t.sent).success&&n.message&&b(n.message);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),300)}),[]);function x(){return(x=P(j().mark((function t(e){var r;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=!0,!y){t.next=4;break}return t.next=4,_(e.target.value);case 4:p&&!0===r&&p();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return l.a.createElement("div",{className:f()(S.inputContainer,I({},S.hasError,!!g))},l.a.createElement("div",{className:S.wrapper},l.a.createElement("input",{ref:w,placeholder:__("输入标签名..."),className:S.input,type:"text",value:n,onKeyDown:function(t){var e=t.keyCode||t.which;if(("Escape"===t.key||"Esc"===t.key||27===e)&&p&&p(),37!==e&&39!==e||t.stopPropagation(),e===F&&v)return t.target.blur(),v(),t.stopPropagation(),void t.preventDefault();e===D&&(t.preventDefault(),t.stopPropagation(),_(t.target.value))},onBlur:function(t){return x.apply(this,arguments)},onFocus:c||void 0,onInput:function(t){b(""),r(t.target.value)},maxLength:E.MAX_LENGTH}),!!e&&a&&l.a.createElement("span",{onMouseDown:function(t){t.preventDefault()},className:f()(S.checkIcon),onClick:function(){_(n)}},l.a.createElement(h.a,{width:16}))),g&&l.a.createElement("p",{className:S.errMsg},g))}function Y(t){var e,r=t.onSelect,s=t.editable,p=t.placement,d=t.overlayStyle,E=t.onUpdate,_=t.enableShortcut,x=t.getPopupContainer,L=void 0===x?function(){return document.body}:x,j=t.pointer,k=void 0===j||j,P=G(t),N=Object(u.useRef)(null),A=Object(u.useRef)(null),C=T(Object(u.useState)(p||"bottomLeft"),2),B=C[0],Y=C[1],V=P.state,W=V.suggestData,H=V.inputValue,q=V.currentEdit,z=W&&!!W.length,K=!z&&H,J=!K&&!z,$=W.filter((function(t){return!t.selected})).length-1;function Q(t){var e,r=(null===(e=A.current)||void 0===e?void 0:e.querySelectorAll(".".concat(M)))[t];if(r){var n=r.parentElement,o=r.offsetTop,i=n.offsetHeight,a=n.scrollTop,c=o-140;0!==t?(c>i+a-40&&(n.scrollTop+=c-(i+a)+60),c<a-20&&(n.scrollTop=a-(a-c))):n.scrollTop=0}}var X=l.a.createElement("div",{className:f()(S.wrapper,(e={},I(e,S.fixPadding,J),I(e,S.editable,s),I(e,S.noEdit,!s),e),"note-tag-menu-wrapper"),"data-testid":"add-tag-wrapper"},l.a.createElement("p",{className:f()(S.title,"note-tag-menu-tip")},s?__("标签管理"):__("为小记添加标签"),_&&l.a.createElement("span",{className:S.hotKey},O.hotKeys.openTag.title)),l.a.createElement(U,{visible:P.state.visible,key:P.state.visible?"visible":"un_visible",value:P.state.inputValue,onChange:P.changeValue,showCreate:!!P.state.inputValue,onConfirm:P.onCreateTag,tagList:P.state.tagList,onFocus:function(){P.setCurrentEditOne(null),P.setCurrentActiveIndex(-1)},autoFocus:!0,onPressKeyDown:function(){var t;null===(t=A.current)||void 0===t||t.focus(),P.setCurrentActiveIndex(0),Q(0)}}),K&&l.a.createElement("div",{className:S.create,onClick:function(){return P.onCreateTag(H)}},l.a.createElement(b.a,{className:S.icon}),__("创建标签 “{name}”",{name:H})),z&&l.a.createElement("div",{className:S.suggestData,tabIndex:0,ref:A,onKeyDown:function(t){var e=t.keyCode||t.which;if(e===R){var n=P.state.currentActiveIndex-1;n<=0&&(n=0),P.setCurrentActiveIndex(n),t.stopPropagation(),t.preventDefault(),Q(n)}if(e===F){var o=P.state.currentActiveIndex+1;o>=$&&(o=$),P.setCurrentActiveIndex(o),t.stopPropagation(),t.preventDefault(),Q(o)}if(e===D){t.preventDefault(),t.stopPropagation();var i=W[P.state.currentActiveIndex];i&&(null==r||r(i))}}},l.a.createElement("p",{className:f()(S.tip,"note-tag-menu-tip")},__("共{num}个标签",{num:W.length})),l.a.createElement(i.a,{className:f()(S.list,"note-tag-menu-list")},W.map((function(t,e){var n,o=t.selected,u=t.pinned_at,p=q&&q.id===t.id,d=s&&!p;return l.a.createElement(i.a.Item,{className:f()(S.item,M,(n={},I(n,S.isEditing,p),I(n,S.isPinned,!!u),I(n,S.active,P.state.currentActiveIndex===e&&!o),I(n,S.default,!k),n)),disabled:o,onClick:function(){r&&r(t)},key:t.id,onMouseEnter:function(t){P.setCurrentActiveIndex(e)},onMouseLeave:function(t){P.setCurrentActiveIndex(-1)}},p?l.a.createElement(U,{autoFocus:!0,visible:!0,confirmOnBlur:!0,value:P.state.currentEditValue,onChange:P.setCurrentEditValue,onConfirm:P.onUpdateTag,tagList:P.state.tagList,onBlur:function(){P.setCurrentEditOne(null)}}):l.a.createElement("span",{className:S.name},t.name),l.a.createElement("div",{className:S.operate},l.a.createElement(l.a.Fragment,null,d&&l.a.createElement(c.a,{title:u?__("取消置顶"):__("置顶")},l.a.createElement("span",{onClick:function(e){e.stopPropagation(),e.preventDefault(),P.pinTag(t)},className:S.operateBtn},l.a.createElement(y.a,{className:S.pinBtn,width:16}))),d&&l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,{width:"16px",height:"16px",onClick:function(){return P.setCurrentEditOne(t)},className:S.operateBtn}),l.a.createElement(a.a,{overlayClassName:"note-tag-destroy-popover",title:__("删除标签将解除相关小记间的关联"),onConfirm:function(){return P.onDestroyTag(t)},okText:__("删除"),cancelText:__("取消"),placement:"bottomRight",arrowPointAtCenter:!0},l.a.createElement("span",{className:S.operateBtn},l.a.createElement(m.a,{width:16}))))),o&&l.a.createElement(h.a,{width:16}),!!t.pinned_at&&l.a.createElement(g.a,{className:S.pinnedIcon,width:8})))})))));return s?l.a.createElement("div",null,l.a.createElement(c.a,{title:__("标签管理")},l.a.createElement("div",{onClick:function(){P.setVisible(!0),P.getData()},className:S.modalWrapper},l.a.createElement(w.a,{width:16,height:16,style:{marginTop:2}}))),l.a.createElement(o.a,{className:S.modalBody,centered:!0,onCancel:function(){null==E||E(),P.setVisible(!1)},visible:P.state.visible,footer:null,bodyStyle:{padding:0,width:458,height:390}},X)):l.a.createElement(n.a,{arrowPointAtCenter:!0,autoAdjustOverflow:!1,overlayStyle:d,overlayClassName:"note-tag-popover",content:X,trigger:"click",placement:B,onVisibleChange:function(t){if(P.setVisible(t),t){if(P.getData(),!p){var e,r,n=null==N||null===(e=N.current)||void 0===e||null===(r=e.triggerRef)||void 0===r?void 0:r.current;if(n){var o=document.documentElement.clientHeight,i=n.getBoundingClientRect(),a=i.top,c=i.bottom;Y(o-a<380&&c>440?"topLeft":"bottomLeft")}}}else P.setCurrentEditValue(""),P.setCurrentEditOne(null),P.changeValue("")},getPopupContainer:L,ref:N},t.children)}Y.useViewModel=G;e.a=Y},2799:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,i(n.key),n)}}function i(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n(e)?e:String(e)}var a=function(){function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=this,n=null,(r=i(r="_lakexDocViewer"))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}var e,n,a;return e=t,(n=[{key:"_loadLakexEditor",value:function(){return Promise.all([r.e(0),r.e(1),r.e(4),r.e(6),r.e(51)]).then(r.bind(null,778))}},{key:"_isPreloadPath",value:function(){var t,e,r=null===(t=window)||void 0===t||null===(e=t.location)||void 0===e?void 0:e.pathname;return!(!r||!["/dashboard","/r/templates","/dashboard/explore"].some((function(t){return r.startsWith(t)})))}},{key:"getLakexEditor",value:function(){var t=this;return this._lakexDocViewer?this._lakexDocViewer:this._loadLakexEditor().then((function(e){return t._lakexDocViewer=e,t._lakexDocViewer}))}},{key:"smartLoadLakexEditor",value:function(t){var e=window.appData,r=e.book,n=e.doc;("Doc"===(null==n?void 0:n.type)||Array.isArray(null==r?void 0:r.toc)&&r.toc.some((function(t){return"DOC"===t.type}))&&n||t||this._isPreloadPath())&&(console.time("smartLoadLakexEditor"),this._loadLakexEditor().then((function(){console.timeEnd("smartLoadLakexEditor")})))}}])&&o(e.prototype,n),a&&o(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.a=new a},2800:function(t,e,r){"use strict";var n={};r.r(n),r.d(n,"initList",(function(){return y})),r.d(n,"syncList",(function(){return m})),r.d(n,"createMirror",(function(){return b}));var o={};r.r(o),r.d(o,"lock",(function(){return S})),r.d(o,"unlock",(function(){return j})),r.d(o,"versionList",(function(){return P})),r.d(o,"versionDetail",(function(){return N})),r.d(o,"saveVersion",(function(){return C}));var i={};r.r(i),r.d(i,"show",(function(){return B})),r.d(i,"index",(function(){return U})),r.d(i,"update",(function(){return V})),r.d(i,"status",(function(){return H})),r.d(i,"mirror",(function(){return z})),r.d(i,"create",(function(){return J}));var a={};r.r(a),r.d(a,"batchArchive",(function(){return et})),r.d(a,"batchDelete",(function(){return nt})),r.d(a,"batchPin",(function(){return it})),r.d(a,"batchUnPin",(function(){return ct})),r.d(a,"updatePublic",(function(){return lt})),r.d(a,"shareToGarden",(function(){return ft}));var c={};r.r(c),r.d(c,"index",(function(){return mt})),r.d(c,"create",(function(){return bt})),r.d(c,"del",(function(){return Et})),r.d(c,"count",(function(){return xt}));var u={};r.r(u),r.d(u,"initList",(function(){return Pt})),r.d(u,"syncList",(function(){return Nt}));var l={};r.r(l),r.d(l,"index",(function(){return Ft})),r.d(l,"create",(function(){return Bt})),r.d(l,"del",(function(){return Ut})),r.d(l,"update",(function(){return Vt})),r.d(l,"pin",(function(){return Ht}));var s=r(11);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(){p=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function h(){}function y(){}function v(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=v.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==f(p)&&r.call(p,"__await")?e.resolve(p.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(p).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),u(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function d(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,c,"next",t)}function c(t){d(i,n,o,a,c,"throw",t)}a(void 0)}))}}function y(t){return v.apply(this,arguments)}function v(){return v=h(p().mark((function t(e){var r,n,o=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteAppController/initList",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function m(t){return g.apply(this,arguments)}function g(){return g=h(p().mark((function t(e){var r,n,o=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteAppController/syncList",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function b(t){return w.apply(this,arguments)}function w(){return w=h(p().mark((function t(e){var r,n,o=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteAppController/createMirror",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function _(){_=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==E(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function x(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function O(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){x(i,n,o,a,c,"next",t)}function c(t){x(i,n,o,a,c,"throw",t)}a(void 0)}))}}function S(t){return L.apply(this,arguments)}function L(){return L=O(_().mark((function t(e){var r,n,o=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteContentController/lock",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),L.apply(this,arguments)}function j(t){return k.apply(this,arguments)}function k(){return k=O(_().mark((function t(e){var r,n,o=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteContentController/unlock",t.abrupt("return",s.b(n,e,r));case 3:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}function P(t){return T.apply(this,arguments)}function T(){return T=O(_().mark((function t(e){var r,n,o=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteContentController/versionList",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}function N(t){return A.apply(this,arguments)}function A(){return A=O(_().mark((function t(e){var r,n,o=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteContentController/versionDetail",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),A.apply(this,arguments)}function C(t){return I.apply(this,arguments)}function I(){return I=O(_().mark((function t(e){var r,n,o=arguments;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteContentController/saveVersion",t.abrupt("return",s.e(n,e,r));case 3:case"end":return t.stop()}}),t)}))),I.apply(this,arguments)}function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function R(){R=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==D(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function F(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function M(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){F(i,n,o,a,c,"next",t)}function c(t){F(i,n,o,a,c,"throw",t)}a(void 0)}))}}function B(t){return G.apply(this,arguments)}function G(){return G=M(R().mark((function t(e){var r,n,o=arguments;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteController/show",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),G.apply(this,arguments)}function U(t){return Y.apply(this,arguments)}function Y(){return Y=M(R().mark((function t(e){var r,n,o=arguments;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteController/index",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function V(t){return W.apply(this,arguments)}function W(){return W=M(R().mark((function t(e){var r,n,o=arguments;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteController/update",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),W.apply(this,arguments)}function H(t){return q.apply(this,arguments)}function q(){return q=M(R().mark((function t(e){var r,n,o=arguments;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteController/status",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),q.apply(this,arguments)}function z(t){return K.apply(this,arguments)}function K(){return K=M(R().mark((function t(e){var r,n,o=arguments;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteController/mirror",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),K.apply(this,arguments)}function J(t){return $.apply(this,arguments)}function $(){return $=M(R().mark((function t(e){var r,n,o=arguments;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteController/create",t.abrupt("return",s.e(n,e,r));case 3:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}function Q(t){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q(t)}function X(){X=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Q(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Z(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function tt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Z(i,n,o,a,c,"next",t)}function c(t){Z(i,n,o,a,c,"throw",t)}a(void 0)}))}}function et(t){return rt.apply(this,arguments)}function rt(){return rt=tt(X().mark((function t(e){var r,n,o=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteOperateController/batchArchive",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),rt.apply(this,arguments)}function nt(t){return ot.apply(this,arguments)}function ot(){return ot=tt(X().mark((function t(e){var r,n,o=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteOperateController/batchDelete",t.abrupt("return",s.b(n,e,r));case 3:case"end":return t.stop()}}),t)}))),ot.apply(this,arguments)}function it(t){return at.apply(this,arguments)}function at(){return at=tt(X().mark((function t(e){var r,n,o=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteOperateController/batchPin",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),at.apply(this,arguments)}function ct(t){return ut.apply(this,arguments)}function ut(){return ut=tt(X().mark((function t(e){var r,n,o=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteOperateController/batchUnPin",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),ut.apply(this,arguments)}function lt(t){return st.apply(this,arguments)}function st(){return st=tt(X().mark((function t(e){var r,n,o=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteOperateController/updatePublic",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),st.apply(this,arguments)}function ft(t){return pt.apply(this,arguments)}function pt(){return pt=tt(X().mark((function t(e){var r,n,o=arguments;return X().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteOperateController/shareToGarden",t.abrupt("return",s.e(n,e,r));case 3:case"end":return t.stop()}}),t)}))),pt.apply(this,arguments)}function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function ht(){ht=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==dt(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function yt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function vt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){yt(i,n,o,a,c,"next",t)}function c(t){yt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function mt(t){return gt.apply(this,arguments)}function gt(){return gt=vt(ht().mark((function t(e){var r,n,o=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteTagController/index",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),gt.apply(this,arguments)}function bt(t){return wt.apply(this,arguments)}function wt(){return wt=vt(ht().mark((function t(e){var r,n,o=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteTagController/create",t.abrupt("return",s.e(n,e,r));case 3:case"end":return t.stop()}}),t)}))),wt.apply(this,arguments)}function Et(t){return _t.apply(this,arguments)}function _t(){return _t=vt(ht().mark((function t(e){var r,n,o=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteTagController/del",t.abrupt("return",s.b(n,e,r));case 3:case"end":return t.stop()}}),t)}))),_t.apply(this,arguments)}function xt(t){return Ot.apply(this,arguments)}function Ot(){return Ot=vt(ht().mark((function t(e){var r,n,o=arguments;return ht().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/notes/NoteTagController/count",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),Ot.apply(this,arguments)}function St(t){return St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(t)}function Lt(){Lt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==St(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function jt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function kt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jt(i,n,o,a,c,"next",t)}function c(t){jt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Pt(t){return Tt.apply(this,arguments)}function Tt(){return Tt=kt(Lt().mark((function t(e){var r,n,o=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/tags/TagAppController/initList",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),Tt.apply(this,arguments)}function Nt(t){return At.apply(this,arguments)}function At(){return At=kt(Lt().mark((function t(e){var r,n,o=arguments;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/tags/TagAppController/syncList",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),At.apply(this,arguments)}function Ct(t){return Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ct(t)}function It(){It=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==Ct(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function Dt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Rt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Dt(i,n,o,a,c,"next",t)}function c(t){Dt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Ft(t){return Mt.apply(this,arguments)}function Mt(){return Mt=Rt(It().mark((function t(e){var r,n,o=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/tags/TagController/index",t.abrupt("return",s.c(n,e,r));case 3:case"end":return t.stop()}}),t)}))),Mt.apply(this,arguments)}function Bt(t){return Gt.apply(this,arguments)}function Gt(){return Gt=Rt(It().mark((function t(e){var r,n,o=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/tags/TagController/create",t.abrupt("return",s.e(n,e,r));case 3:case"end":return t.stop()}}),t)}))),Gt.apply(this,arguments)}function Ut(t){return Yt.apply(this,arguments)}function Yt(){return Yt=Rt(It().mark((function t(e){var r,n,o=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/tags/TagController/del",t.abrupt("return",s.b(n,e,r));case 3:case"end":return t.stop()}}),t)}))),Yt.apply(this,arguments)}function Vt(t){return Wt.apply(this,arguments)}function Wt(){return Wt=Rt(It().mark((function t(e){var r,n,o=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/tags/TagController/update",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),Wt.apply(this,arguments)}function Ht(t){return qt.apply(this,arguments)}function qt(){return qt=Rt(It().mark((function t(e){var r,n,o=arguments;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},n="/api/modules/note/tags/TagController/pin",t.abrupt("return",s.f(n,e,r));case 3:case"end":return t.stop()}}),t)}))),qt.apply(this,arguments)}var zt={NoteAppCtlImpl:n,NoteContentCtlImpl:o,NoteCtlImpl:i,NoteOperateCtlImpl:a,NoteTagCtlImpl:c,TagAppCtlImpl:u,TagCtlImpl:l};e.a=zt},2804:function(t,e,r){"use strict";var n,o,i,a;r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return a})),function(t){t.content_updated_at="content_updated_at",t.first_published_at="first_published_at"}(n||(n={})),function(t){t.all="all",t.archive="archive",t.image="image",t.bookmark="bookmark",t.attachment="attachment",t.archived="archived",t.share="share",t.dingTalkRobot="dingTalkRobot",t.wechatRobot="wechatRobot"}(o||(o={})),function(t){t.YUQUE_DESKTOP_APP="yuque-desktop",t.WECHAT_H5="wechat-h5",t.WECHAT_ROBOT="wechat-robot",t.DINGTALK_H5="dingtalk-h5",t.DINGTALK_ROBOT="dingtalk-robot",t.ALIPAY_WEBAPP="alipay-webapp",t.TEMPLATE_NOTE="template",t.MOBILE_APP="mobile-app"}(i||(i={})),function(t){t[t.unarchived=0]="unarchived",t[t.archived=9]="archived"}(a||(a={}))},2807:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(0),o=Object(n.createContext)({tagList:[]})},2808:function(t,e,r){"use strict";r(63);var n=r(23),o=r(0);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(){a=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=f;var d={};function h(){}function y(){}function v(){}var m={};s(m,c,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&r.call(b,c)&&(m=b);var w=v.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,a,c,u){var l=p(t[n],t,a);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==i(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,c,u)}),(function(t){o("throw",t,c,u)})):e.resolve(f).then((function(t){s.value=t,c(s)}),(function(t){return o("throw",t,c,u)}))}u(l.arg)}var a;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return a=a?a.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,s(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,u,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),s(w,l,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function c(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function u(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){c(i,n,o,a,u,"next",t)}function u(t){c(i,n,o,a,u,"throw",t)}a(void 0)}))}}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.a=function(t){var e,r=t.getNotes,i=t.listData,c=t.isDesktopApp,s=l(Object(o.useState)(null),2),f=s[0],p=s[1];function d(){return(d=u(a().mark((function t(e){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e[0].isIntersecting&&r({noLoading:!0});case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return c&&n.a.config({top:80,duration:1.5}),Object(o.useEffect)((function(){var t=document.querySelector("#siteTipGuide");return t&&(t.style.display="none"),c&&n.a.config({top:80,duration:1.5}),function(){var t=document.querySelector("#siteTipGuide");t&&(t.style.display="block")}}),[]),window.IntersectionObserver&&(e=new IntersectionObserver((function(t){return d.apply(this,arguments)}),{threshold:.1})),Object(o.useEffect)((function(){if(f&&e)return e.observe(f),function(){e.unobserve(f)}}),[f,i]),{setLoadRef:p}}},2809:function(t,e,r){"use strict";r(63);var n=r(23),o=r(0),i=r(562),a=r(2745),c=r(2750),u=r(125),l=r(2804);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d={};function h(){}function y(){}function v(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=v.prototype=h.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var u=p(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,d;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),u(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}function p(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function h(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,c,"next",t)}function c(t){d(i,n,o,a,c,"throw",t)}a(void 0)}))}}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){m(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){if(t){if("string"==typeof t)return w(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(t,e):void 0}}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E=a.myNotesConsts.NOTE_ORDER_KEY,_={status:i.STATUS.unarchived,filterTab:l.a.all,orderBy:l.b.content_updated_at,currentTagId:null,search:""};e.a=function(t){var e=t.currentUuid,r=t.refreshBatchProcess,a=g(Object(o.useState)([]),2),s=a[0],d=a[1],y=g(Object(o.useState)([]),2),m=y[0],b=y[1],w=g(Object(o.useState)(!1),2),x=w[0],O=w[1],S=g(Object(o.useState)(!0),2),L=S[0],j=S[1],k=g(Object(o.useState)([]),2),P=k[0],T=k[1],N=g(Object(o.useState)(v(v({},_),{},{orderBy:u.a.get(E)||l.b.content_updated_at})),2),A=N[0],C=N[1],I=Object(o.useCallback)((function(t){b([]),d([]),C(v(v({},A),t))}),[A]),D=Object(o.useCallback)((function(t){return m.find((function(e){return e.id===t}))?[m,b]:[s,d]}),[s,m]),R=Object(o.useCallback)(h(f().mark((function t(){var e,r,n,o,a,u,h=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=h.length>0&&void 0!==h[0]?h[0]:{}).noLoading||O(!0),r={offset:s.length,q:A.search,filter_type:A.filterTab,status:A.status,merge_dynamic_data:0,order:A.orderBy,with_pinned_notes:!0},A.currentTagId&&(r.tag=A.currentTagId),i.NEED_PINNED_TYPE.includes(A.filterTab)||delete r.with_pinned_notes,e.fromQuery&&(r.offset=0),r.q&&(r.order=l.b.first_published_at),i.DEFAULT_TYPE.includes(r.filter_type)||(r.include_body=!0,r.order=l.b.first_published_at),t.prev=8,t.next=11,c.a.NoteCtlImpl.index(r,{useOriginResp:!0});case 11:n=t.sent,o=n.has_more,a=n.notes,u=n.pin_notes,j(o),0===r.offset?i.NEED_PINNED_TYPE.includes(A.filterTab)?(b(u),d(a)):d(a):d([].concat(p(s),p(a)));case 17:return t.prev=17,O(!1),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[8,,17,20]])}))),[A,s]),F=Object(o.useCallback)(h(f().mark((function t(){var e,r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.NoteTagCtlImpl.count({status:A.status,filter_type:A.filterTab});case 2:e=t.sent,(r=e.data)&&(T(r),A.currentTagId&&!r.some((function(t){return t.id===A.currentTagId}))&&I({currentTagId:null}));case 5:case"end":return t.stop()}}),t)}))),[A]);var M=Object(o.useCallback)((function(t){return c.a.NoteOperateCtlImpl.batchDelete({ids:t,latest_update_user_uuid:e}).then((function(){null==r||r();var e=s.slice().filter((function(e){return!t.includes(e.id)}));d(e);var o=m.slice().filter((function(e){return!t.includes(e.id)}));b(o),!e.length&&L&&R(),F(),n.a.success(__("小记已移至回收站"))})).catch((function(){n.a.error(__("删除失败"))}))}),[D,e]),B=function(){var t=h(f().mark((function t(e){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.NoteOperateCtlImpl.batchPin({ids:[e.id]});case 2:e.pinned_at=new Date,r=s.filter((function(t){return t.id!==e.id})),m.unshift(e),d(r),b(m),n.a.success(__("小记置顶成功"));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=h(f().mark((function t(e){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.NoteOperateCtlImpl.batchUnPin({ids:[e.id]});case 2:e.pinned_at=null,r=m.filter((function(t){return t.id!==e.id})),s.unshift(e),d(s),b(r),n.a.success(__("取消置顶成功"));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(o.useEffect)((function(){R(),F()}),[A]),{state:{listData:s,listLoading:x,hasMore:L,noteTags:P,noteFilterParams:A,pinnedListData:m},setListData:d,getNotes:R,getNoteTags:F,onChangeFilterParams:I,onReset:function(){b([]),C(_)},onRemoveNote:function(t){var e=t.id;M([e])},setPinnedListData:b,getListData:D,pinnedNote:B,deletePinnedNote:G,onRemoveNotes:M}}},2810:function(t,e,r){"use strict";r(62);var n=r(21),o=r(444),i=r.n(o),a=r(2257),c=r.n(a),u=(r(557),r(216)),l=(r(126),r(65)),s=r(0),f=r.n(s),p=r(29),d=r.n(p),h=r(9),y=r.n(h),v=r(2),m=r.n(v),g=r(265),b=r.n(g),w=r(731),E=r(656),_=r(652),x=r(30),O=r(156),S=r(2814),L=r(125),j=r(2764),k=r.n(j),P=r(562),T=r(2815),N=r(2745),A=r(2754),C=r(671),I=r(2796),D=r(2767),R={toolBarBtn:"index-module_toolBarBtn_kG8Cd",wrapper:"index-module_wrapper_8ethE",noteItem:"index-module_noteItem_dVp5J",note:"index-module_note_geZ56",viewBlank:"index-module_viewBlank_ecM7l",tagPinned:"index-module_tagPinned_--NI2",descMoreIcon:"index-module_descMoreIcon_wlBa3",tab:"index-module_tab_zkK5m",arrowUp:"index-module_arrowUp_lRGKc",arrowDown:"index-module_arrowDown_3-EN3",tabNote:"index-module_tabNote_8V7gj",hidden:"index-module_hidden_M8z9j",tagPinnedContainer:"index-module_tagPinnedContainer_hB8jT",selected:"index-module_selected_aA0w-",rightToolBar:"index-module_rightToolBar_e1gvN",noteItemExpand:"index-module_noteItemExpand_PjrCj",leftToolBar:"index-module_leftToolBar_JMyy5",content:"index-module_content_Yf3Cm",loading:"index-module_loading_uVMCS",mask:"index-module_mask_-nOYf",reading:"index-module_reading_dfUvx",isTemplate:"index-module_isTemplate_7o8Q-",viewMore:"index-module_viewMore_gsQbm",searchMode:"index-module_searchMode_jG3fm",meta:"index-module_meta_B+ClL",radio:"index-module_radio_2HGaM",contentExpanded:"index-module_contentExpanded_lWgEI",editing:"index-module_editing_nW8gJ",hasTag:"index-module_hasTag_wtzsZ",viewMoreShow:"index-module_viewMoreShow_pN6H7",images:"index-module_images_fAoGp",date:"index-module_date_095hy",imagesContent:"index-module_imagesContent_t0q35",item:"index-module_item_2FEiU",bookmark:"index-module_bookmark_-+dy+",title:"index-module_title_6RJyp",desc:"index-module_desc_WTwbK",belong:"index-module_belong_Csy5b",text:"index-module_text_bro5m",left:"index-module_left_s-MXM",right:"index-module_right_RJVuX",attachment:"index-module_attachment_H4LKm",file:"index-module_file_e9W5F",name:"index-module_name_fKT1c",size:"index-module_size_xQNXJ",empty:"index-module_empty_cBT2k",loadMoreBtn:"index-module_loadMoreBtn_t6j9W",theEndTips:"index-module_theEndTips_tq+NY",blank:"index-module_blank_2HJdh",desktop:"index-module_desktop_oahLD",toolbarStyle:"index-module_toolbarStyle_cNHWw",batchProcess:"index-module_batchProcess_BqhA4",checkBox:"index-module_checkBox_mz+g+",rightToolBarCollapse:"index-module_rightToolBarCollapse_cPTfb",rightToolBarSave:"index-module_rightToolBarSave_vhDcz",tagContainer:"index-module_tagContainer_nVqVt"};function F(t){return F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function M(){return M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M.apply(this,arguments)}function B(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==F(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==F(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===F(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function G(){G=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:E(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function h(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=h.prototype=p.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==F(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function E(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return j()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,_(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function S(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function L(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=h,n(g,"constructor",{value:h,configurable:!0}),n(h,"constructor",{value:d,configurable:!0}),d.displayName=u(h,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=L,S.prototype={constructor:S,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function U(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=H(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function Y(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function V(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Y(i,n,o,a,c,"next",t)}function c(t){Y(i,n,o,a,c,"throw",t)}a(void 0)}))}}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||H(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){if(t){if("string"==typeof t)return q(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(t,e):void 0}}function q(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var z=N.myNotesConsts.COLLAPSE_BTN_CLASS,K=function(t){var e,r,n=t.note,o=t.noteTags,i=t.enableDynamicTaskList,a=t.onLoadNote,c=t.onCollapseNote,u=t.renderEditor,p=t.onChangeNote,d=t.onUpdateContentUpdatedAt,h=n.id,v=n.content,m=v.updated_at,g=v.abstract,b=v.source,w=v.doc_dynamic_data,E=n.tags,_=void 0===E?[]:E,O=W(Object(s.useState)(!b),2),S=O[0],L=O[1],j=W(Object(s.useState)(!!b),2),k=j[0],T=j[1],F=W(Object(s.useState)(!b),2),Y=F[0],H=F[1],q=W(Object(s.useState)(!!b),2),K=q[0],J=q[1],$=Object(s.useRef)(null),Q=Object(s.useRef)(null),X=Object(s.useRef)(null),Z=n.editing,tt=n.loading,et=n.expanded_at,rt=n.changed_at,nt=n.save_from,ot=null===m;if(!N.isDev&&ot)return null;var it="item-".concat(n.id,"-").concat(m),at={};N.isDesktopApp&&(at.downloadFileHandler=N.downloadFileHandler);var ct=_&&_.map((function(t){var e=o&&o.find((function(e){return e.id===t.id}));return e||null})).filter((function(t){return!!t})),ut=function(){var t=V(G().mark((function t(e){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){var r=setInterval((function(){var n=e.querySelectorAll('ne-card[data-card-name="image"] img');if(0===n.length)return clearInterval(r),t();var o,i=[],a=U(n);try{for(a.s();!(o=a.n()).done;){var c=o.value;c.complete||i.push(c)}}catch(t){a.e(t)}finally{a.f()}0===i.length&&(clearInterval(r),setTimeout((function(){t()}),100))}),10);setTimeout((function(){clearInterval(r),t()}),800)})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),lt=function(){var t=V(G().mark((function t(e){var r;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=13;break}if(J(!0),T(!1),Q){t.next=5;break}return t.abrupt("return");case 5:return r=Q.current,t.next=8,ut(r);case 8:L(!1),H(!1),T(!0),t.next=16;break;case 13:H(!0),L(!1),setTimeout(V(G().mark((function t(){var e,r;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=$.current){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,ut(e);case 5:L(!0),J(!0),T(!1),null==(r=document.getElementById("doclet-viewmore-".concat(h)))||r.scrollIntoView(!1);case 10:case"end":return t.stop()}}),t)}))),30);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),st=!Z&&ct&&!!ct.length,ft=nt&&[P.SAVE_FROM_TYPE.TEMPLATE_NOTE,P.SAVE_FROM_TYPE.TEMPLATE_TODO].includes(nt);if(n.editing)return f.a.createElement("div",{className:y()(R.content,B({},R.contentExpanded,et),R.editing)},u(n));function pt(){null==p||p(n),null==d||d(n.id)}return f.a.createElement(l.a,{className:y()(R.content,"note-item-normal",(e={},B(e,R.contentExpanded,!!ft||et),B(e,R.reading,!Z),B(e,R.hasTag,st),B(e,R.isTemplate,ft),e))},f.a.createElement("div",null,Y&&f.a.createElement("div",{style:{display:S?"relative":"absolute",zIndex:S?3:-1,left:0,top:0,overflow:k?"hidden":"none"},ref:$},f.a.createElement(I.a,M({docId:h,key:"".concat(it,"-description-").concat(n.updated_at),content:g,onDynamicDataChange:pt,enableDynamicTaskList:i,dynamicData:w},at))),K&&f.a.createElement("div",{style:{position:k?"relative":"absolute",zIndex:k?3:-1,left:0,top:0,overflow:k?"hidden":"none"},ref:Q},f.a.createElement(I.a,M({docId:h,key:"".concat(it,"-doclet-").concat(h,"-").concat(m),content:b,onDynamicDataChange:pt,enableDynamicTaskList:i,dynamicData:w},at)))),st&&f.a.createElement(D.a,{data:ct}),f.a.createElement("div",{className:y()(R.viewBlank,"view-blank"),onClick:function(t){var e=t.currentTarget;e&&"pointer"===e.style.cursor&&e.nextSibling&&e.nextSibling.click()}}),f.a.createElement("div",{ref:X,key:"doclet-viewmore-".concat(h),id:"doclet-viewmore-".concat(h),className:y()(R.viewMore,(r={},B(r,R.viewMoreShow,et),B(r,R.expanded,et),r),"view-more"),onClick:function(){var t=V(G().mark((function t(e){return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.stopPropagation(),!et){t.next=14;break}if(!rt){t.next=10;break}return t.next=5,a(n);case 5:return c(n),t.next=8,lt(!1);case 8:t.next=12;break;case 10:c(n),lt(!1);case 12:t.next=19;break;case 14:return t.next=16,a(n);case 16:return t.next=18,lt(!0);case 18:setTimeout((function(){Object(A.checkCollapseBtnShow)()}),100);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},(null==g?void 0:g.includes(P.VIEW_MORE_TAG))&&(et?f.a.createElement("span",{className:y()(z,R.descMoreIcon)},f.a.createElement(x.b,{name:"arrow-up",size:14,className:R.descMoreIcon}),__("收起")):f.a.createElement("span",{className:y()(z,R.descMoreIcon)},f.a.createElement(x.b,{name:"arrow-down",size:14,className:R.descMoreIcon}),__("展开")))),Z&&f.a.createElement("div",{className:R.mask}),tt&&f.a.createElement("div",{className:R.loading},f.a.createElement(C.a,null)))},J=function(t){var e=t.data,r=t.date;return f.a.createElement("div",{className:y()(R.noteItem,R.images)},f.a.createElement("div",{className:R.date},Object(N.getLocaleMonthName)(r)),f.a.createElement("div",{className:R.imagesContent},e.map((function(t,r){return f.a.createElement("div",{onClick:function(){return Object(N.showImgBrowser)(e,r)},className:R.item,id:"note-image-item-".concat(t.uuid)},f.a.createElement("img",{src:Object(N.getPreviewImage)(k.a.sanitizeUrl(t.src),{size:160})}))}))))};function $(t){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(t)}function Q(t){return function(t){if(Array.isArray(t))return rt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||et(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Z(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?X(Object(r),!0).forEach((function(e){tt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function tt(t,e,r){return(e=function(t){var e=function(t,e){if("object"!==$(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function et(t,e){if(t){if("string"==typeof t)return rt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rt(t,e):void 0}}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nt=N.myNotesConsts.NOTE_PINNED_SHOW_KEY,ot=N.myNotesConsts.COLLAPSE_BTN_CLASS,it=N.myNotesConsts.SUBMIT_BTN_CLASS,at=N.myNotesConsts.NOTE_LIST_ITEM_CLASS,ct=N.myNotesConsts.NOTE_LIST_READ_TAG_ADD_CLASS,ut=function(t){var e,r=t.state,o=r.hasMore,a=r.listData,p=r.pinnedListData,h=r.listLoading,v=r.searchValue,m=r.orderBy,g=r.filterTab,j=r.currentTagId,C=r.noteTags,I=r.toDocList,D=r.batchProcess,F=r.noteStatus,M=r.showPinned,B=t.isLiteMode,G=t.getNotes,U=t.onSelectNote,Y=t.onLoadNote,V=t.onCollapseNote,W=t.onChangeNote,H=t.setLoadRef,q=t.renderToolBar,z=t.setToDocList,$=t.setBatchProcess,X=t.isAlipayWebApp,rt=t.onUpdateContentUpdatedAt,ut=t.setShowPinned,lt=g===P.FILTER_TYPES.all,st=Object(O.b)().isDarkMode;function ft(){if(!j||v)return null;var t=C.find((function(t){var e;return(null===(e=t.tag_meta)||void 0===e?void 0:e.id)===j}));if(!t||!t.count)return null;var e=a&&a.length;p&&p.length>0&&(e+=p.length);var r=t.count-e;return!r||r<0?null:__("{num} 篇小记不包含{text}",{num:r,text:Object(N.getFilterBarConfig)()[g]})}Object(s.useEffect)((function(){if(lt){var t=document.querySelector("#mynote-container .note-list");if(t){var e=t.querySelectorAll(".yuque-doc-content");setTimeout((function(){var t,r=function(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=et(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;v?(n.searchPad||(n.searchPad=new S.a({target:n,style:{highlight:{fill:"rgba(255, 230, 0, 0.5)"},select:{fill:"rgba(255, 140, 0, 0.5)"}}})),n.searchPad.find(v.trim())):n.searchPad&&n.searchPad.clear()}}catch(t){r.e(t)}finally{r.f()}}),100),Object(A.handleListScroll)()}}}),[a]);var pt=function(e){var r,n=Z(Z({},t),{},{state:Z(Z({},t.state),{},{note:e}),mode:"list"});return null===(r=t.renderEditor)||void 0===r?void 0:r.call(t,n)};function dt(t){return B?null:f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:y()(R.leftToolBar,tt({},R.batchProcess,D))},!t.editing&&function(t){var e=I.some((function(e){return e.id===t.id}));return f.a.createElement("div",{className:R.checkBox,onClick:function(){$(!0)}},f.a.createElement(u.a,{onChange:function(e){!0===e.target.checked?z([].concat(Q(I),[t])):1===I.length?(z(Q(I).filter((function(e){return e.id!==t.id}))),$(!1)):z(Q(I).filter((function(e){return e.id!==t.id})))},checked:e}))}(t)),f.a.createElement("div",{className:y()(R.rightToolBar,tt({},R.batchProcess,D))},!t.editing&&!B&&q(t),t.editing&&f.a.createElement("div",{onClick:function(t){var e,r,n=null==t||null===(e=t.target)||void 0===e||null===(r=e.closest(".".concat(at)))||void 0===r?void 0:r.querySelector(".".concat(it));n&&n.click()},className:y()(R.rightToolBarSave,"right-tool-".concat(it))},f.a.createElement(E.a,{width:18})),t.expanded_at&&!t.editing&&f.a.createElement("div",{className:y()(R.rightToolBarCollapse,"right-tool-".concat(ot)),onClick:function(){Object(A.scrollToElem)(t),V(t)}},f.a.createElement(_.a,{width:18}))))}var ht=function(e){var r=e.editing,n="item-".concat(e.id,"-").concat(e.content_updated_at),o={note:e,filterTab:g,noteTags:C,isAlipayWebApp:X,orderBy:m,onSelectNote:U,renderToolBar:q,renderSideToolBar:dt,enableDynamicTaskList:t.enableDynamicTaskList,onLoadNote:Y,onCollapseNote:V,renderEditor:pt,onChangeNote:W,onUpdateContentUpdatedAt:rt};return f.a.createElement("div",{id:"note-".concat(e.id),key:n,className:y()(R.note,tt({},R.selected,r),at),onDoubleClick:function(t){var r;null!=t&&null!==(r=t.target)&&void 0!==r&&r.closest(".share-note-button")||U(e)}},f.a.createElement("div",{className:y()(R.noteItem,tt({},R.noteItemExpand,r),"note-item")},e.pinned_at&&f.a.createElement("div",{className:R.tagPinnedContainer},f.a.createElement(x.b,{name:"icon-top",size:14,className:R.tagPinned})),!e.editing&&f.a.createElement("div",{className:R.meta},f.a.createElement(T.a,{item:e,orderBy:m,isLiteViewMode:!1}),B&&q(e)),f.a.createElement(K,o),f.a.createElement("div",{className:y()(R.tagContainer,ct)})),dt(e))};return i()(null==p?void 0:p.concat(a))?f.a.createElement("div",{"data-testid":"note-list-empty",className:y()(R.wrapper,R.empty,tt({},R.desktop,N.isDesktopApp),"note-list-empty")},function(){if(h)return null;if(v)return f.a.createElement("div",{className:R.blank},__("未能找到相关{type}",{type:__("小记")}));var t=ft(),e=__("灵光乍现，小记一下");return F===P.STATUS.archived&&(e=__("不再使用的小记可归档于此")),f.a.createElement(f.a.Fragment,null,f.a.createElement("img",{src:st?"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*HSmhT7fKgwMAAAAAAAAAAAAAARQnAQ":"https://gw.alipayobjects.com/mdn/prod_resou/afts/img/A*HshzTKOlvckAAAAAAAAAAAAAARQnAQ"}),f.a.createElement("p",null,t||e))}()):f.a.createElement("div",{className:y()(R.wrapper,(e={},tt(e,R.desktop,N.isDesktopApp),tt(e,R.win,N.isWin),tt(e,R.searchMode,v),e),"note-list"),"data-testid":"note-list"},P.NEED_PINNED_TYPE.includes(g)&&p.length>0&&!B&&f.a.createElement(n.a,{type:"link",className:R.tab,onClick:function(){ut(!M),L.a.set(nt,Number(!M))}},__("置顶"),f.a.createElement(x.b,{name:"arrow-down",size:16,className:y()(R.arrowUp,tt({},R.arrowDown,!M))})),f.a.createElement("div",{className:y()(tt({},R.hidden,!M))},function(t){if(P.NEED_PINNED_TYPE.includes(g))return t.map(ht)}(Object(N.parseCardData)(p,g))),P.NEED_PINNED_TYPE.includes(g)&&M&&p.length>0&&a.length>0&&f.a.createElement("span",{className:y()(R.tab,R.tabNote)},__("小记")),function(e){if(P.NEED_PINNED_TYPE.includes(g))return e.sort((function(t,e){return new Date(e[m]).getTime()-new Date(t[m]).getTime()})).map(ht);var r,n=e.reduce((function(t,e){if(!e.cards)return t;var r=e.cards.map((function(t){return Z(Z({},t),{},{published_at:e.published_at,content:{updated_at:e.content.updated_at}})}));return t.concat(r||[])}),[]);if(g===P.FILTER_TYPES.image){var o=c()(n,(function(t){return d()(t.published_at).startOf("month").format()}));return Object.keys(o).sort((function(t,e){return new Date(e).getTime()-new Date(t).getTime()})).map((function(t){var e={data:o[t],date:t};return f.a.createElement(J,e)}))}return g===P.FILTER_TYPES.bookmark?(r=n,f.a.createElement(f.a.Fragment,null,r.map((function(t){return f.a.createElement("div",{className:y()(R.noteItem,R.bookmark)},f.a.createElement(l.a,{className:R.item},f.a.createElement(T.a,{item:t}),f.a.createElement("a",{href:k.a.sanitizeUrl(t.detail.url),target:"_blank"},f.a.createElement("div",{className:R.left},f.a.createElement("div",{className:R.title},t.detail.title||__("无标题")),f.a.createElement("div",{className:R.desc},t.detail.desc||""),f.a.createElement("div",{className:R.belong},t.detail.icon&&f.a.createElement("img",{src:k.a.sanitizeUrl(t.detail.icon)}),f.a.createElement("span",{className:R.text},t.detail.belong||t.detail.url||""))),t.detail.image&&f.a.createElement("div",{className:R.right},f.a.createElement("img",{src:k.a.sanitizeUrl(t.detail.image)})))))})))):g===P.FILTER_TYPES.attachment?function(t,e){return f.a.createElement(f.a.Fragment,null,t.map((function(t){var r;return f.a.createElement("div",{className:y()(R.noteItem,R.attachment)},f.a.createElement(l.a,{className:R.item},f.a.createElement(T.a,{item:t}),f.a.createElement("div",{className:R.file},f.a.createElement("div",{className:R.left},null===(r=e.renderResourceIcon)||void 0===r?void 0:r.call(e,t),f.a.createElement("span",{className:R.name},t.name),t.size&&f.a.createElement("span",{className:R.size},"(",b()(t.size),")")),f.a.createElement("div",{className:R.right},f.a.createElement("a",{href:k.a.sanitizeUrl(t.src),download:t.name},f.a.createElement(w.a,null))))))})))}(n,t):null}(Object(N.parseCardData)(a,g)),function(){if(o)return f.a.createElement("div",{className:R.loadMoreBtn,onClick:G,ref:function(t){return H(t)}},__("点击加载更多"));var t=ft();return t?f.a.createElement("div",{className:R.theEndTips},t):a&&a.length>9?f.a.createElement("div",{className:R.theEndTips},__("我是有底线的")):void 0}())};ut.propTypes={isAlipayWebApp:m.a.bool,setLoadRef:m.a.func,setShowRepoModal:m.a.func,state:m.a.object,getNotes:m.a.func,onLoadNote:m.a.func,onCollapseNote:m.a.func,onArchiveNotes:m.a.func,onRemoveNote:m.a.func,onPublicNote:m.a.func,onSelectNote:m.a.func,onChangeNote:m.a.func,onFinishLoadNote:m.a.func,onChangeShareStatus:m.a.func,onInsertToLakeEditor:m.a.func,renderToolBar:m.a.func,renderEditor:m.a.func,renderResourceIcon:m.a.func,enableDynamicTaskList:m.a.bool,setToDocList:m.a.func,setBatchProcess:m.a.func,onUpdateContentUpdatedAt:m.a.func};e.a=ut},2811:function(t,e,r){"use strict";r(104);var n=r(38),o=r(0),i=r.n(o),a=r(2),c=r.n(a),u=r(9),l=r.n(u),s=r(735),f={wrapper:"search-module_wrapper_S445p",searchBar:"search-module_searchBar_x3Krl",active:"search-module_active_eYHT+",isLiteMode:"search-module_isLiteMode_C4hZN",searchMini:"search-module_searchMini_V+K7h",searchMiniShow:"search-module_searchMiniShow_xFcgm"};function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e,r){return e=function(t){var e=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===p(e)?e:String(e)}(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=function(t){var e,r,a,c=t.activeMode,u=t.isDesktopApp,p=t.searchValue,y=t.searchActive,v=t.setSearchActive,m=t.isLiteMode,g=t.onSearchNote,b=t.onSearchReset,w=h(Object(o.useState)(null),2),E=w[0],_=w[1],x=Object(o.useRef)(null);Object(o.useEffect)((function(){p||(_(null),v(!1))}),[p]);var O={ref:x,value:E,prefix:i.a.createElement(s.a,null),placeholder:__("搜索"),autoComplete:"nope",allowClear:!0,onSearch:g,onBlur:function(t){t.target.value||(v(!1),b())},onChange:function(t){var e=t.target.value;_(e)},onClear:function(){_(null)}};return"dark"!==(null===(e=window.appData.themeManager)||void 0===e?void 0:e.current)&&(O.style={borderColor:"#e8e8e8"}),i.a.createElement("div",{"data-testid":"note-search",className:l()(f.wrapper,"note-search")},i.a.createElement("div",{className:l()(f.searchBar,(r={},d(r,f.active,c||y),d(r,f.isLiteMode,m),r))},i.a.createElement(n.a.Search,O)),!c&&i.a.createElement("div",{className:l()(f.searchMini,(a={},d(a,f.searchMiniShow,!y),d(a,f.desktop,u),a)),onClick:function(){v(!0),x&&x.current&&x.current.focus()}},i.a.createElement(s.a,{width:16,height:16,style:{color:"#262626"}})))};v.defaultProps={activeMode:!1,isDesktopApp:!1},v.propTypes={searchValue:c.a.string,searchActive:c.a.bool,isDesktopApp:c.a.bool,onSearchNote:c.a.func,onSearchReset:c.a.func,setSearchActive:c.a.func,activeMode:c.a.bool};e.a=v},2814:function(t,e,r){"use strict";var n=r(34),o=r.n(n),i=r(241),a={}.toString,c=function(t,e){return a.call(t)==="[object "+e+"]"};function u(t){return null==t}function l(t,e,r){try{return window.getComputedStyle?window.getComputedStyle(t,null)[e]:t.currentStyle[e]}catch(t){return u(r)?null:r}}function s(t,e){var r=[];if(t){if(e&&!e(t))return r;for(var n=t.childNodes,o=0;o<n.length;o++){var i=n[o],a=i.nodeType;3===a?r.push(i):1!==a&&9!==a&&11!==a||(r=r.concat(s(i,e)))}}return r}function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){h(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t,e,r){return(e=v(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function v(t){var e=function(t,e){if("object"!==f(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===f(e)?e:String(e)}function m(t,e){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},m(t,e)}function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=w(t);if(e){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(t,e){if(e&&("object"===f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m(t,e)}(a,t);var e,r,n,o=g(a);function a(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=o.call(this,t),!t.target)throw new Error("please set a dom element as target!");return e.options=d({target:null,style:{highlight:{fill:"rgba(255, 230, 0, 0.5)"},select:{fill:"rgba(255, 140, 0, 0.5)"}},filter:null},t),e.ranges=[],e._initTarget(),e._createCanvas(),e}return e=a,(r=[{key:"_initTarget",value:function(){var t=this.options.target;"static"===l(t,"position")&&(t.style.position="relative")}},{key:"_createCanvas",value:function(){var t=this.options.target,e=document.createElement("div");e.style.position="absolute",e.style.top=0,e.style.left=0,e.style["pointer-events"]="none",e.style["z-index"]=99,t.appendChild(e);var r=new i.TinyCanvas({container:e});this.container=e,this.canvas=r}},{key:"_resizeCanvas",value:function(){var t=this.options.target,e=this.canvas,r=function(t,e){var r=l(t,"width",e);return"auto"===r&&(r=t.offsetWidth),parseFloat(r)}(t),n=function(t,e){var r=l(t,"height",e);return"auto"===r&&(r=t.offsetHeight),parseFloat(r)}(t);e.resize(r,n)}},{key:"_getRelativeRect",value:function(t){var e=this.container,r=t.getBoundingClientRect(),n=e.getBoundingClientRect();return{x:r.left-n.left,y:r.top-n.top,width:r.right-r.left,height:r.bottom-r.top}}},{key:"_cacheRange",value:function(t){return{startOffset:t.startOffset,endOffset:t.endOffset,startContainer:t.startContainer,endContainer:t.endContainer,commonAncestorContainer:t.commonAncestorContainer}}},{key:"_isRangeWrap",value:function(t){var e=this._cacheRange(t);t.setEnd(e.startContainer,e.startOffset+1);var r=t.getBoundingClientRect();t.setEnd(e.startContainer,e.endOffset-1),t.setStart(e.endContainer,e.endOffset);var n=t.getBoundingClientRect();return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),r.bottom!==n.bottom}},{key:"_drawOneByOne",value:function(t,e){for(var r=this._cacheRange(t),n=this.canvas,o=r.startOffset;o<r.endOffset;){t.setStart(r.commonAncestorContainer,o),t.setEnd(r.commonAncestorContainer,o+1);var i=this._getRelativeRect(t);n.clearRect(i),n.draw("Rect",d(d({},i),e)),o++}t.setStart(r.startContainer,r.startOffset),t.setEnd(r.endContainer,r.endOffset)}},{key:"_drawRangeBackground",value:function(t,e){var r=this.canvas;if(this._isRangeWrap(t))return this._drawOneByOne(t,e);var n=this._getRelativeRect(t);r.clearRect(n),r.draw("Rect",d(d({},n),e))}},{key:"_highlightRanges",value:function(t){var e=this;t.forEach((function(t){e._highlightRange(t)}))}},{key:"_clearRange",value:function(t){var e=this.canvas,r=this._getRelativeRect(t);e.clearRect(r)}},{key:"_highlightRange",value:function(t){var e=this.options.style.highlight;this._drawRangeBackground(t,e)}},{key:"_selectRange",value:function(t){var e=this.options.style.select;this._drawRangeBackground(t,e)}},{key:"_clearCanvas",value:function(){this.canvas.clear()}},{key:"_move",value:function(t){var e=this.selectedRange,r=this.ranges;if(e){var n=r.indexOf(e),o=r[n+t];o||(o=t>0?r[t-1]:r[r.length+t]),this._highlightRange(e),this.select(o),this.scrollIntoView()}}},{key:"_replace",value:function(t,e){var r=t.commonAncestorContainer.parentNode,n=document.createTextNode(e);"A"===r.tagName&&r.getAttribute("href")===r.innerText&&r.setAttribute("href",e),t.deleteContents(),t.insertNode(n)}},{key:"replace",value:function(t){if(!u(t)){var e=this.selectedRange;if(this.ranges.length>0){var r={range:e};this.emit("before:replace",r),this._replace(e,t),this._clearRange(e),this.emit("after:replace",r)}}}},{key:"replaceAll",value:function(t){var e=this;if(!u(t)){var r=this.ranges,n={ranges:r};this.emit("before:replaceAll",n),r.forEach((function(r){e._replace(r,t)})),this.emit("after:replaceAll",n),r.forEach((function(t){e._saveCardValue(t)})),this.clear()}}},{key:"show",value:function(){this.container.style.display=""}},{key:"hide",value:function(){this.container.style.display="none"}},{key:"find",value:function(t,e){var r=[];if(this.clear(),t&&c(t,"String")&&t.length>0){e=function(t){return c(t,"Function")}(e)?e:function(){return!0},this._resizeCanvas();var n=s(this.options.target,(function(t){return"none"!==t.style.display&&e(t)}));n.length>0&&(r=function(t,e){var r=[];return t.forEach((function(t){var n=t.nodeValue,o=e.length,i=function(t,e){for(var r=[],n=e.length,o=t.indexOf(e);o>-1;)r.push(o),o=t.indexOf(e,o+n);return r}((n||"").toLowerCase(),(e||"").toLowerCase());i.forEach((function(e){var n=document.createRange();n.setStart(t,e),n.setEnd(t,e+o),r.push(n)}))})),r}(n,t),this._highlightRanges(r),this.ranges=r,this.keyword=t)}return this.ranges=r,r}},{key:"reFind",value:function(){var t=this.selectedRangeIndex,e=this.find(this.keyword);if(e.length>0&&!u(t)){var r=e[t]?e[t]:e[0];this.select(r)}return e}},{key:"scrollIntoView",value:function(){if(this.selectedRange){var t=this.selectedRange.commonAncestorContainer.parentElement;(e=t.getBoundingClientRect()).top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)||(t.scrollIntoView({block:"center"}),document.documentElement.scrollTop=0,document.body.scrollTop=0)}var e}},{key:"select",value:function(t){if(!u(t)){var e=this.ranges,r=t;c(t,"Number")&&(r=e[t]);var n={range:r};this.emit("before:select",n),this._selectRange(r),this.selectedRange=r,this.selectedRangeIndex=e.indexOf(r),this.emit("after:select",n)}}},{key:"next",value:function(){this._move(1)}},{key:"prev",value:function(){this._move(-1)}},{key:"clear",value:function(){this._clearCanvas(),this.selectedRange=void 0,this.ranges=[],this.keyword=void 0}},{key:"count",value:function(){var t=this.ranges;if(0===t.length)return 0;var e=this.selectedRange;return[t.indexOf(e)+1,t.length]}},{key:"destroy",value:function(){var t=this.container;this.options=null,t.parentElement.removeChild(t)}}])&&y(e.prototype,r),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),a}(o.a);e.a=E},2815:function(t,e,r){"use strict";var n=r(0),o=r.n(n),i=r(29),a=r.n(i),c=r(603),u=r(2745),l=r(1079),s=r(33),f="note-status-module_dev_g73YZ",p="note-status-module_publicInfo_8wLHo",d="note-status-module_text_ZLRRs";function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function y(){y=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof p?e:p,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:x(t,r,c)}),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function p(){}function d(){}function v(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=v.prototype=p.prototype=Object.create(m);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function o(n,i,a,c){var u=s(t[n],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==h(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function x(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return P()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return d.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:d,configurable:!0}),d.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},E(_.prototype),u(_.prototype,a,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function v(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function m(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){v(i,n,o,a,c,"next",t)}function c(t){v(i,n,o,a,c,"throw",t)}a(void 0)}))}}e.a=function(t){var e=t.item,r=t.orderBy,n=t.isLiteViewMode,i=e.id,h=e.editing,v=e.public,g=e.published_at,b=e.content.updated_at,w=r===c.ORDER_BY.content_updated_at,E=w?b:g,_=n&&new Date(b).getFullYear()!==(new Date).getFullYear();function x(){return O.apply(this,arguments)}function O(){return(O=m(y().mark((function t(){var e;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.a.shares.findOne({target_type:"Note",target_id:i});case 2:e=t.sent,window.open("".concat(window.location.origin,"/r/notes/share/").concat(e.token));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return o.a.createElement(o.a.Fragment,null,h?o.a.createElement("span",null,__("编辑中"),"..."):o.a.createElement("span",{className:d},w?__("更新于"):__("创建于")," ",l.default.format(E,{onlyDate:_,disableYear:!1}),!!v&&!n&&o.a.createElement("span",{className:p,onClick:x},__("分享中"))),function(t){if(!u.isDev)return null;var e=null===b;return o.a.createElement("span",{className:f},t.id," ",e?"mirror":""," ",a()(t.content_updated_at).format("YYYY-MM-DD HH:mm:ss"))}(e))}},2818:function(t,e,r){t.exports=r(999)},2819:function(t,e,r){"use strict";var n=r(2820),o=r(2830),i=r(2758);t.exports={formats:i,parse:o,stringify:n}},2820:function(t,e,r){"use strict";var n=r(2821),o=r(2769),i=r(2758),a=Object.prototype.hasOwnProperty,c={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Array.isArray,l=String.prototype.split,s=Array.prototype.push,f=function(t,e){s.apply(t,u(e)?e:[e])},p=Date.prototype.toISOString,d=i.default,h={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1},y={},v=function t(e,r,i,a,c,s,p,d,v,m,g,b,w,E,_,x){for(var O,S=e,L=x,j=0,k=!1;void 0!==(L=L.get(y))&&!k;){var P=L.get(e);if(j+=1,void 0!==P){if(P===j)throw new RangeError("Cyclic object value");k=!0}void 0===L.get(y)&&(j=0)}if("function"==typeof d?S=d(r,S):S instanceof Date?S=g(S):"comma"===i&&u(S)&&(S=o.maybeMap(S,(function(t){return t instanceof Date?g(t):t}))),null===S){if(c)return p&&!E?p(r,h.encoder,_,"key",b):r;S=""}if("string"==typeof(O=S)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||o.isBuffer(S)){if(p){var T=E?r:p(r,h.encoder,_,"key",b);if("comma"===i&&E){for(var N=l.call(String(S),","),A="",C=0;C<N.length;++C)A+=(0===C?"":",")+w(p(N[C],h.encoder,_,"value",b));return[w(T)+(a&&u(S)&&1===N.length?"[]":"")+"="+A]}return[w(T)+"="+w(p(S,h.encoder,_,"value",b))]}return[w(r)+"="+w(String(S))]}var I,D=[];if(void 0===S)return D;if("comma"===i&&u(S))I=[{value:S.length>0?S.join(",")||null:void 0}];else if(u(d))I=d;else{var R=Object.keys(S);I=v?R.sort(v):R}for(var F=a&&u(S)&&1===S.length?r+"[]":r,M=0;M<I.length;++M){var B=I[M],G="object"==typeof B&&void 0!==B.value?B.value:S[B];if(!s||null!==G){var U=u(S)?"function"==typeof i?i(F,B):F:F+(m?"."+B:"["+B+"]");x.set(e,j);var Y=n();Y.set(y,x),f(D,t(G,U,i,a,c,s,p,d,v,m,g,b,w,E,_,Y))}}return D};t.exports=function(t,e){var r,o=t,l=function(t){if(!t)return h;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||h.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==t.format){if(!a.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=i.formatters[r],o=h.filter;return("function"==typeof t.filter||u(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:h.addQueryPrefix,allowDots:void 0===t.allowDots?h.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:h.charsetSentinel,delimiter:void 0===t.delimiter?h.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:h.encode,encoder:"function"==typeof t.encoder?t.encoder:h.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:h.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:h.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:h.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:h.strictNullHandling}}(e);"function"==typeof l.filter?o=(0,l.filter)("",o):u(l.filter)&&(r=l.filter);var s,p=[];if("object"!=typeof o||null===o)return"";s=e&&e.arrayFormat in c?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=c[s];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y="comma"===d&&e&&e.commaRoundTrip;r||(r=Object.keys(o)),l.sort&&r.sort(l.sort);for(var m=n(),g=0;g<r.length;++g){var b=r[g];l.skipNulls&&null===o[b]||f(p,v(o[b],b,d,y,l.strictNullHandling,l.skipNulls,l.encode?l.encoder:null,l.filter,l.sort,l.allowDots,l.serializeDate,l.format,l.formatter,l.encodeValuesOnly,l.charset,m))}var w=p.join(l.delimiter),E=!0===l.addQueryPrefix?"?":"";return l.charsetSentinel&&("iso-8859-1"===l.charset?E+="utf8=%26%2310003%3B&":E+="utf8=%E2%9C%93&"),w.length>0?E+w:""}},2821:function(t,e,r){"use strict";var n=r(2756),o=r(2826),i=r(2828),a=n("%TypeError%"),c=n("%WeakMap%",!0),u=n("%Map%",!0),l=o("WeakMap.prototype.get",!0),s=o("WeakMap.prototype.set",!0),f=o("WeakMap.prototype.has",!0),p=o("Map.prototype.get",!0),d=o("Map.prototype.set",!0),h=o("Map.prototype.has",!0),y=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new a("Side channel does not contain "+i(t))},get:function(n){if(c&&n&&("object"==typeof n||"function"==typeof n)){if(t)return l(t,n)}else if(u){if(e)return p(e,n)}else if(r)return function(t,e){var r=y(t,e);return r&&r.value}(r,n)},has:function(n){if(c&&n&&("object"==typeof n||"function"==typeof n)){if(t)return f(t,n)}else if(u){if(e)return h(e,n)}else if(r)return function(t,e){return!!y(t,e)}(r,n);return!1},set:function(n,o){c&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new c),s(t,n,o)):u?(e||(e=new u),d(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=y(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n}},2822:function(t,e,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(2823);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},2823:function(t,e,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},2824:function(t,e,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString,a="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||i.call(e)!==a)throw new TypeError(n+e);for(var r,c=o.call(arguments,1),u=function(){if(this instanceof r){var n=e.apply(this,c.concat(o.call(arguments)));return Object(n)===n?n:this}return e.apply(t,c.concat(o.call(arguments)))},l=Math.max(0,e.length-c.length),s=[],f=0;f<l;f++)s.push("$"+f);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(u),e.prototype){var p=function(){};p.prototype=e.prototype,r.prototype=new p,p.prototype=null}return r}},2825:function(t,e,r){"use strict";var n=r(2757);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},2826:function(t,e,r){"use strict";var n=r(2756),o=r(2827),i=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&i(t,".prototype.")>-1?o(r):r}},2827:function(t,e,r){"use strict";var n=r(2757),o=r(2756),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||n.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),l=o("%Object.defineProperty%",!0),s=o("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=c(n,a,arguments);if(u&&l){var r=u(e,"length");r.configurable&&l(e,"length",{value:1+s(0,t.length-(arguments.length-1))})}return e};var f=function(){return c(n,i,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f},2828:function(t,e,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,c="function"==typeof Set&&Set.prototype,u=Object.getOwnPropertyDescriptor&&c?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=c&&u&&"function"==typeof u.get?u.get:null,s=c&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,v=Function.prototype.toString,m=String.prototype.match,g=String.prototype.slice,b=String.prototype.replace,w=String.prototype.toUpperCase,E=String.prototype.toLowerCase,_=RegExp.prototype.test,x=Array.prototype.concat,O=Array.prototype.join,S=Array.prototype.slice,L=Math.floor,j="function"==typeof BigInt?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,T="function"==typeof Symbol&&"object"==typeof Symbol.iterator,N="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===T||"symbol")?Symbol.toStringTag:null,A=Object.prototype.propertyIsEnumerable,C=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function I(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||_.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var n=t<0?-L(-t):L(t);if(n!==t){var o=String(n),i=g.call(e,o.length+1);return b.call(o,r,"$&_")+"."+b.call(b.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(e,r,"$&_")}var D=r(2829),R=D.custom,F=Y(R)?R:null;function M(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function B(t){return b.call(String(t),/"/g,"&quot;")}function G(t){return!("[object Array]"!==H(t)||N&&"object"==typeof t&&N in t)}function U(t){return!("[object RegExp]"!==H(t)||N&&"object"==typeof t&&N in t)}function Y(t){if(T)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!P)return!1;try{return P.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,o){var c=r||{};if(W(c,"quoteStyle")&&"single"!==c.quoteStyle&&"double"!==c.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(W(c,"maxStringLength")&&("number"==typeof c.maxStringLength?c.maxStringLength<0&&c.maxStringLength!==1/0:null!==c.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=!W(c,"customInspect")||c.customInspect;if("boolean"!=typeof u&&"symbol"!==u)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(W(c,"indent")&&null!==c.indent&&"\t"!==c.indent&&!(parseInt(c.indent,10)===c.indent&&c.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(W(c,"numericSeparator")&&"boolean"!=typeof c.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=c.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return z(e,c);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var w=String(e);return y?I(e,w):w}if("bigint"==typeof e){var _=String(e)+"n";return y?I(e,_):_}var L=void 0===c.depth?5:c.depth;if(void 0===n&&(n=0),n>=L&&L>0&&"object"==typeof e)return G(e)?"[Array]":"[Object]";var k=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=O.call(Array(t.indent+1)," ")}return{base:r,prev:O.call(Array(e+1),r)}}(c,n);if(void 0===o)o=[];else if(q(o,e)>=0)return"[Circular]";function R(e,r,i){if(r&&(o=S.call(o)).push(r),i){var a={depth:c.depth};return W(c,"quoteStyle")&&(a.quoteStyle=c.quoteStyle),t(e,a,n+1,o)}return t(e,c,n+1,o)}if("function"==typeof e&&!U(e)){var V=function(t){if(t.name)return t.name;var e=m.call(v.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),K=Z(e,R);return"[Function"+(V?": "+V:" (anonymous)")+"]"+(K.length>0?" { "+O.call(K,", ")+" }":"")}if(Y(e)){var tt=T?b.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):P.call(e);return"object"!=typeof e||T?tt:J(tt)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var et="<"+E.call(String(e.nodeName)),rt=e.attributes||[],nt=0;nt<rt.length;nt++)et+=" "+rt[nt].name+"="+M(B(rt[nt].value),"double",c);return et+=">",e.childNodes&&e.childNodes.length&&(et+="..."),et+="</"+E.call(String(e.nodeName))+">"}if(G(e)){if(0===e.length)return"[]";var ot=Z(e,R);return k&&!function(t){for(var e=0;e<t.length;e++)if(q(t[e],"\n")>=0)return!1;return!0}(ot)?"["+X(ot,k)+"]":"[ "+O.call(ot,", ")+" ]"}if(function(t){return!("[object Error]"!==H(t)||N&&"object"==typeof t&&N in t)}(e)){var it=Z(e,R);return"cause"in Error.prototype||!("cause"in e)||A.call(e,"cause")?0===it.length?"["+String(e)+"]":"{ ["+String(e)+"] "+O.call(it,", ")+" }":"{ ["+String(e)+"] "+O.call(x.call("[cause]: "+R(e.cause),it),", ")+" }"}if("object"==typeof e&&u){if(F&&"function"==typeof e[F]&&D)return D(e,{depth:L-n});if("symbol"!==u&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{l.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var at=[];return a&&a.call(e,(function(t,r){at.push(R(r,e,!0)+" => "+R(t,e))})),Q("Map",i.call(e),at,k)}if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var ct=[];return s&&s.call(e,(function(t){ct.push(R(t,e))})),Q("Set",l.call(e),ct,k)}if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{f.call(t,f);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return $("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{f.call(t,f)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return $("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(t){}return!1}(e))return $("WeakRef");if(function(t){return!("[object Number]"!==H(t)||N&&"object"==typeof t&&N in t)}(e))return J(R(Number(e)));if(function(t){if(!t||"object"!=typeof t||!j)return!1;try{return j.call(t),!0}catch(t){}return!1}(e))return J(R(j.call(e)));if(function(t){return!("[object Boolean]"!==H(t)||N&&"object"==typeof t&&N in t)}(e))return J(h.call(e));if(function(t){return!("[object String]"!==H(t)||N&&"object"==typeof t&&N in t)}(e))return J(R(String(e)));if(!function(t){return!("[object Date]"!==H(t)||N&&"object"==typeof t&&N in t)}(e)&&!U(e)){var ut=Z(e,R),lt=C?C(e)===Object.prototype:e instanceof Object||e.constructor===Object,st=e instanceof Object?"":"null prototype",ft=!lt&&N&&Object(e)===e&&N in e?g.call(H(e),8,-1):st?"Object":"",pt=(lt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ft||st?"["+O.call(x.call([],ft||[],st||[]),": ")+"] ":"");return 0===ut.length?pt+"{}":k?pt+"{"+X(ut,k)+"}":pt+"{ "+O.call(ut,", ")+" }"}return String(e)};var V=Object.prototype.hasOwnProperty||function(t){return t in this};function W(t,e){return V.call(t,e)}function H(t){return y.call(t)}function q(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function z(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return z(g.call(t,0,e.maxStringLength),e)+n}return M(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,K),"single",e)}function K(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function J(t){return"Object("+t+")"}function $(t){return t+" { ? }"}function Q(t,e,r,n){return t+" ("+e+") {"+(n?X(r,n):O.call(r,", "))+"}"}function X(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+O.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=G(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=W(t,o)?e(t[o],t):""}var i,a="function"==typeof k?k(t):[];if(T){i={};for(var c=0;c<a.length;c++)i["$"+a[c]]=a[c]}for(var u in t)W(t,u)&&(r&&String(Number(u))===u&&u<t.length||T&&i["$"+u]instanceof Symbol||(_.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if("function"==typeof k)for(var l=0;l<a.length;l++)A.call(t,a[l])&&n.push("["+e(a[l])+"]: "+e(t[a[l]],t));return n}},2829:function(t,e){},2830:function(t,e,r){"use strict";var n=r(2769),o=Object.prototype.hasOwnProperty,i=Array.isArray,a={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},u=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},l=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,a=/(\[[^[\]]*])/g,c=r.depth>0&&/(\[[^[\]]*])/.exec(i),l=c?i.slice(0,c.index):i,s=[];if(l){if(!r.plainObjects&&o.call(Object.prototype,l)&&!r.allowPrototypes)return;s.push(l)}for(var f=0;r.depth>0&&null!==(c=a.exec(i))&&f<r.depth;){if(f+=1,!r.plainObjects&&o.call(Object.prototype,c[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(c[1])}return c&&s.push("["+i.slice(c.index)+"]"),function(t,e,r,n){for(var o=n?e:u(e,r),i=t.length-1;i>=0;--i){var a,c=t[i];if("[]"===c&&r.parseArrays)a=[].concat(o);else{a=r.plainObjects?Object.create(null):{};var l="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,s=parseInt(l,10);r.parseArrays||""!==l?!isNaN(s)&&c!==l&&String(s)===l&&s>=0&&r.parseArrays&&s<=r.arrayLimit?(a=[])[s]=o:"__proto__"!==l&&(a[l]=o):a={0:o}}o=a}return o}(s,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return a;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?a.charset:t.charset;return{allowDots:void 0===t.allowDots?a.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:a.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:a.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:a.comma,decoder:"function"==typeof t.decoder?t.decoder:a.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:a.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:a.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:a.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:a.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof t?function(t,e){var r,l={},s=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,f=e.parameterLimit===1/0?void 0:e.parameterLimit,p=s.split(e.delimiter,f),d=-1,h=e.charset;if(e.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?h="utf-8":"utf8=%26%2310003%3B"===p[r]&&(h="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var y,v,m=p[r],g=m.indexOf("]="),b=-1===g?m.indexOf("="):g+1;-1===b?(y=e.decoder(m,a.decoder,h,"key"),v=e.strictNullHandling?null:""):(y=e.decoder(m.slice(0,b),a.decoder,h,"key"),v=n.maybeMap(u(m.slice(b+1),e),(function(t){return e.decoder(t,a.decoder,h,"value")}))),v&&e.interpretNumericEntities&&"iso-8859-1"===h&&(v=c(v)),m.indexOf("[]=")>-1&&(v=i(v)?[v]:v),o.call(l,y)?l[y]=n.combine(l[y],v):l[y]=v}return l}(t,r):t,f=r.plainObjects?Object.create(null):{},p=Object.keys(s),d=0;d<p.length;++d){var h=p[d],y=l(h,s[h],r,"string"==typeof t);f=n.merge(f,y,r)}return!0===r.allowSparse?f:n.compact(f)}},603:function(t,e,r){t.exports=r(562)}}]);